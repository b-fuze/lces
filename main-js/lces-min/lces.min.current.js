function lcesAppendCSS(e,t,n){var i=document.getElementsByTagName("head")[0],s=document.createElement("style");return s.className=e,s.appendChild(document.createTextNode(t)),n&&n instanceof Node?i.insertBefore(s,n):i.appendChild(s),s}function lcOnEffectFade(e){}function lcEffectFade(){return this.element?void 0:(console.warn("Component has no element."),!1)}lces.rc[0]=function(){window.undf=void 0,window.console||Object.defineProperty(window,"console",{value:{log:function(){},error:function(){},table:{}},writable:!1,configurable:!1,enumerable:!0}),window.jSh=function e(t,n){if("string"==typeof t){var i=this===window?document:this instanceof Node||e.MockupElement&&this instanceof e.MockupElement?this:lces&&this instanceof lcWidget?this.element:document,s=e.determineSelector(t);return e.shorten(e[s]("queryAll"===s||"tag"===s?t:t.substr(1),i,n))}var o=e.determineType(t);return o?(n&&new lcWidget(o),o.jSh||e.shorten(o),o):!1},jSh.type=function(e){return Object.prototype.toString.call(e).replace(/\[object\s([\w\d]+)\]/,"$1").toLowerCase()},jSh.pushItems=function(e){var t=jSh.toArr(arguments).slice(1);t.forEach(function(t){e.push(t)})},jSh.spliceItem=function(e){var t=jSh.toArr(arguments).slice(1);t.forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})},jSh.toArr=function(e){return Array.prototype.slice.call(e)},jSh.oneOrArr=function(e){return 1===e.length?e[0]:e},jSh.hasMultipleArgs=function(e,t){var n=!1;return t=t||this,e.length>1&&(n=jSh.toArr(e)),"array"===jSh.type(e[0])&&(n=e[0]),n?n.forEach(function(n){e.callee.call(t,n)})?!0:!0:!1},jSh.extendObj=function(e,t,n){return Object.getOwnPropertyNames(t).forEach(function(i){n&&-1!==n.indexOf(i)||(e[i]=t[i])}),e},jSh.mergeObj=function(e,t,n){function i(e,t){Object.getOwnPropertyNames(t).forEach(function(s){var o=e[s],r=t[s];"object"===jSh.type(o)&&"object"===jSh.type(r)?i(o,r):n&&"object"===jSh.type(o)||(e[s]=r)})}return i(e,t),e},jSh.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},jSh.nChars=function(e,t){e+="",t=isNaN(t)?1:parseInt(t);for(var n="",i=0;t>i;i++)n+=e;return n},jSh.strCapitalise=function(e){return e+="",e[0].toUpperCase()+e.slice(1).toLowerCase()},jSh.parseJSON=function(e){var t;try{t=JSON.parse(e)}catch(n){console.warn(n),t={error:"JSON parse failed",data:null}}return t},jSh.filterHTML=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")},jSh.d=function(e,t,n,i,s,o){var r;if(this.lcesElement)var a=this.lcesElement;else if(this.lcesType){var l=/^ns:[\w\d_]+:[^]+$/i.test(this.lcesType);if(l)var r=this.lcesType.replace(/^ns:([\w\d_]+):[^]+$/i,"$1"),a=jSh.e(this.lcesType);else var a=jSh.e(this.lcesType)}else var a=jSh.e("div");if("object"==typeof e){var c=e;e=c.className||c["class"],t=c.text,n=c.child||c.children,i=c.attributes||c.attr,s=c.properties||c.prop||c.props,o=c.events}var d="",h="";if(e){var u=/^(?:#[a-zA-Z\d\-_]+)?(?:\.[a-zA-Z\d\-_]+)+$|^#[a-zA-Z\d\-_]+(?:\.[a-zA-Z\d\-_]+)*$/,p=/\.([a-zA-Z\d\-_]+)/g,f=/#([a-zA-Z\d\-_]+)/;u.test(e)?(p.test(e)&&(h=jSh.toArr(e.match(p)).map(function(e){return e.substr(1)})),f.test(e)&&(d=e.match(f)[0].substr(1)),h.length>0&&(r?i["class"]=h.join(" "):a.className=h.join(" "))):r?i["class"]=e:a.className=e}d&&(a.id=d),t&&(a[t.t?"innerHTML":"textContent"]=t.s?t.s:t,a[t.t?"_innerHTML":"_textContent"]=t.s?t.s:t),n&&("array"===jSh.type(n)?n.forEach(function(e){a.appendChild(e)}):a.appendChild(n));var m=/^ns:[^:]+:[^]*$/i;if(i)for(attr in i)if(i.hasOwnProperty(attr))if(!m.test(attr)||a instanceof jSh.MockupElement)a.setAttribute(attr,i[attr]);else{var g=attr.replace(/^ns:[^:]+:([^]*)$/i,"$1"),v=attr.replace(/^ns:([^:]+):[^]*$/i,"$1");a.setAttributeNS(g?g:null,v,i[attr])}if(s)for(prop in s)s.hasOwnProperty(prop)&&(a[prop]=s[prop]);if(o){var b=Object.getOwnPropertyNames(o);b.forEach(function(e){"array"===jSh.type(b[e])?o[e].forEach(function(t){a.addEventListener(e,t)}):a.addEventListener(e,o[e])})}return jSh(a)},jSh.c=function(e,t,n,i,s,o){return jSh.d.call({lcesType:e},t,n,i,s,o)},jSh.e=function(e){var t=/^ns:[\w\d_]+:[^]+$/i.test(e);if(t){var n=e.replace(/^ns:[\w\d_]+:([^]+)$/i,"$1"),i=e.replace(/^ns:([\w\d_]+):[^]+$/i,"$1"),s=document.createElementNS(n,i);return s.nsElm=!0,s}return document.createElement(e)},jSh.t=function(e){return document.createTextNode(e)},jSh.svg=function(e,t,n,i){return jSh.c("ns:svg:http://www.w3.org/2000/svg",e,undf,i,{version:"1.1",width:t,height:n})},jSh.path=function(e,t,n){return jSh.c("ns:path:http://www.w3.org/2000/svg",e,undf,undf,{"ns:d:":t,"ns:style:":n||""})},jSh.getChild=function(e,t){var n=jSh.toArr(this.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE?!jSh(e)||!0:!1});return 0>e&&(e=n.length+e),n[e]?"number"==typeof t&&t>1?n.slice(e,e+t):n[e]:null},jSh.isDescendant=function(e,t){for(var n=e.parentNode,i=!1;n!=document.body;){if(n==t){i=!0;break}n=n.parentNode}return i},jSh.onEvent=function(e,t,n){this.addEventListener(e,t,n)},jSh.shorten=function(e){var t=jSh.hasMultipleArgs(arguments);return t?1===arguments.length?e:jSh.toArr(arguments):(e&&!e.getChild&&(e.getChild=jSh.getChild,e.on=jSh.onEvent,e.jSh=jSh,e.__apch=e.appendChild,e.__rmch=e.removeChild,e.appendChild=function(t){return jSh.hasMultipleArgs(arguments,this)?undf:void e.__apch(t)},e.removeChild=function(t){return jSh.hasMultipleArgs(arguments,this)?undf:void e.__rmch(t)}),e)},jSh.id=function(e,t){return(jSh.MockupElement&&t instanceof jSh.MockupElement?t:document).getElementById(e)},jSh["class"]=function(e,t){return jSh.toArr(t.getElementsByClassName(e))},jSh.tag=function(e,t){return jSh.toArr(t.getElementsByTagName(e))},jSh.name=function(e){return jSh.toArr(document.getElementsByName(e))},jSh.placeholder=function(e,t){return jSh.oneOrArr(jSh.toArr(t.getElementsByTagName("lces-placeholder")).filter(function(t){return t.phName&&t.phName.toLowerCase()===e.toLowerCase()}))},jSh.queryAll=function(e,t,n){return jSh.toArr(t[n?"querySelector":"querySelectorAll"](e))},jSh.isID=/^#[^\s()\[\]*:{}]+$/i,jSh.isClass=/^\.[^\s()\[\]*:{}]+$/i,jSh.isTag=/^[^\s()\[\]*:{}]+$/i,jSh.isPH=/^~[^\s()\[\]*:{}]+$/i,jSh.determineSelector=function(e){return jSh.isID.test(e)?"id":jSh.isClass.test(e)?"class":jSh.isPH.test(e)?"placeholder":jSh.isTag.test(e)?"tag":"queryAll"},jSh.determineType=function(e){return e?e instanceof Node?e:jSh.MockupElement&&e instanceof jSh.MockupElement?e:e instanceof lcWidget&&e.element instanceof Node?e.element:null:!1};jSh},lces.rc[1]=function(){window.qsmoothp=function(e){var t=this;t.qsmoth={pro:0},t.qsmooth=function(e){if(void 0==e.pro){var n=e.n,i=e.n1,s=(i-n)*(void 0!=e.speed&&"number"==typeof e.speed?e.speed:.1),o=s+n;e.func(o),t.qsmoth.pro+=1;var r=t.qsmoth.pro;t.timeOut=setTimeout(function(){t.qsmooth({func:e.func,n:n,n1:i,pro:r,cur:o,off:s,end:e.end,endarg:e.endarg,noRound:e.noRound,checkIncr:e.checkIncr})},33)}else{if(e.pro!=t.qsmoth.pro)return!1;if(e.n!=e.n1){var a=!1,n=e.n,i=e.n1,l=e.off,c=-1*e.checkIncr,c=n>i?c:e.checkIncr,d=!1,h=!1,u=l*(1-(e.cur-n)/(i-n))+e.cur;n>i?c+u<=e.n1&&(d=!0):c+u>=e.n1&&(d=!0),n>i?u<=e.n1&&(h=!0):u>=e.n1&&(h=!0)}else var a=!0;if(a||!e.noRound&&Math.round(u)==i||u==i||h||void 0!=e.checkIncr&&"number"==typeof e.checkIncr&&d)e.func(a?e.n1:i),"function"==typeof e.end&&(arguments=void 0!=e.endarg?e.endarg:void 0,e.end(arguments));else{if(isNaN(e.cur))return!1;e.func(u),t.timeOut=setTimeout(function(){t.qsmooth({func:e.func,pro:e.pro,cur:u,off:l,n:n,n1:i,end:e.end,endarg:e.endarg,noRound:e.noRound,checkIncr:e.checkIncr})},38)}}},this.timeOut=null,this.qsmooth(e)},window.qsFadein=function(e,t,n,i,s,o,r,a){return new qsmoothp({func:e,n:t,n1:n,off:o?o:.2,speed:i?i:.032,noRound:void 0!=r?r:!0,checkIncr:void 0!=a?a:.001,end:void 0!=s?s:void 0})},window.clearQS=function(e){e&&e.qsmoth&&(e.qsmoth.pro=0)}},lces.rc[9]=function(){lces.css={},lces.css.colorize=function(e,t,n,i){var s=!1;"string"!=typeof e&&(s=e,e=e.lcesColorizeSrc);var o=function(e){return(parseInt(e,16)<17?"00".substr(e.length):"")+e+(parseInt(e,16)>16?"00".substr(e.length):"")};o.full=function(e,t,n){return"#"+o(e.toString(16))+o(t.toString(16))+o(n.toString(16))};var r=o.full(t,n,i);if(e=e.replace(/rgb(a?)\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*((?:,\s*\d{1}(?:\.\d+)?\s*)?)\)/gi,"rgb$1("+t+", "+n+", "+i+"$2)"),e=e.replace(/:\s*#(?:[\d\w]{3}|[\d\w]{6})\s*;/gi,": "+r+";"),s){for(var a=/lc-rgbahsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(\d+(?:\.\d+)?)\s*,\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+\s*\)/,l=/lc-rgba?hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*(?:,\s*\d+(?:\.\d+)?\s*)?,\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*(-?\d+)\s*\)/,c=e.match(l),d=lces.ui.RGB2HSV(t/255,n/255,i/255);c;){var h=c[0].match(a);h=h?h[1]:h;var u=isNaN(h)||!h&&0!==h?!1:!0,p=parseFloat(c[1]),f=parseFloat(c[2])/100,m=parseFloat(c[3])/100,g=d.h+p;g=Math.round(g>360?g-360:0>g?g+360:g);var v=Math.max(Math.min(d.s+f,1),0),b=Math.max(Math.min(d.v+m,1),0),y=lces.ui.HSV2RGB(g,v,b).map(function(e){return parseInt(255*e)}),S="rgb"+(u?"a":"")+"("+y[0]+","+y[1]+","+y[2]+(u?","+h:"")+")";e=e.slice(0,c.index)+S+e.slice(c.index+c[0].length),c=e.match(l)}s.removeChild(s.childNodes[0]),s.appendChild(jSh.t(e))}return e},lces.css.appendTransition=function(e,t,n){return t=t?t:"250ms",n=n?n:"ease-out",e.replace(/\n(\s*)([a-z\-]+):\s*(rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+(?:\.\d+)?\s*\)|#[a-z0-9]{3,6})\s*;/gi,"\n$1$2: $3;\n$1transition: $2 "+t+" "+n+";")}},lces.rc[2]=function(){function e(e,t,n){var i=this.states,s=this._setState.bind(this),o=i[e],r=i.statechange;if(!n&&o&&o.stateStatus===t)return s(e,t,n,!0),!1;var a=!1;if(o||(a=!0),o&&o.flippedStateCall)o.oldStateStatus!==o.stateStatus&&(r.states[e]||(r.states[e]={}),r.states[e].recurring=n,s("statechange",e,!0)),s(e,t,n);else{s(e,t,n);var o=i[e];o.oldStateStatus!==o.stateStatus&&(r.states[e]||(r.states[e]={}),r.states[e].recurring=n,s("statechange",e,!0))}a&&s("newstate",e,!0)}window.LCESVar=function(e){this.LCESVAR=!0,this.id=e},window.LV=function(e){return new LCESVar(e)},window.isLV=function(e){return e instanceof LCESVar},window.LCES={EXTENDED_COMPONENT:LV(5),BASE_COMPONENT:LV(6),components:[],isExtended:function(e){return isLV(e[e.length-1])&&e[e.length-1]===LCES.EXTENDED_COMPONENT}};var t=window.Object;window.lcComponentMethods={setState:function(e,n,i,s){if(!this.states[e]){this.states[e]={component:this,name:e,set:function(t){this.component.setState(e,t)},get:function(){return this.stateStatus},stateStatus:n,oldStateStatus:{nullStuff:null},functions:[],conditions:[],getter:null,data:{},"private":!1,flippedStateCall:!1,linkedStates:{}};var o=this;t.defineProperty(this,e,{configurable:!0,set:function(t){o.setState(e,t)},get:function(){return o.getState(e)}})}for(var r=this.states[e],a=r.conditions,l=!0,c=0,d=a.length;d>c;c++){var h=a[c];if(h&&(l=h.call(r,n,s)),!l)return!1}if(r.stateStatus===n&&!i)return!1;r.oldStateStatus=r.stateStatus,r.stateStatus=n;for(var u=r.functions,p=0,f=u.length;f>p;p++){var m=u[p];m&&m.call(r,n,i)}return!0},getState:function(e){return this.states[e]?"function"==typeof this.states[e].get?this.states[e].get.call(this.states[e]):this.states[e].stateStatus:!1},hasState:function(e,t){if(!this.states[e]&&t)throw ReferenceError("No such state");return!!this.states[e]},addStateListener:function(e,t){this.states[e]||this.setState(e,undf),this.states[e].functions.push(t)},addStateCondition:function(e,t){if(!this.states[e])throw ReferenceError("No such state");this.states[e].conditions.push(t)},addGroupLink:function(e){e.addMember(this)},removeGroupLink:function(e){e&&e.removeMember(this)},removeAllGroupLinks:function(){for(var e=this.groups,t=0,n=e.length;n>t;t++){var i=e[t];i&&i.removeMember(this)}},removeStateListener:function(e,t){if(!this.states[e])throw ReferenceError("No such state");var n=this.states[e],i=n.functions.indexOf(t);return-1!==i?(n.functions.splice(i,1),!0):!1},removeAllStateListeners:function(e){if(!this.states[e])throw ReferenceError("No such state");for(var t=this.states[e].functions,n=t.length,i=0;n>i;i++)t.splice(i,1);return!0},removeAllStateConditions:function(e){if(!this.states[e])throw ReferenceError("No such state");return this.states[e].conditions=[],!0},removeState:function(e){if(!jSh.hasMultipleArgs(arguments,this)){var n=this.states[e];if(!n)throw ReferenceError("No such state");for(var i=t.getOwnPropertyNames(n.linkedStates),s=this.unlinkStates.bind(this),o=0,r=i.length;r>o;o++)this.states[i[o]]&&s(e,i[o]);n.component=undf,this.states[e]=undf,delete this[e]}},removeAllStates:function(){for(var e=t.getOwnPropertyNames(this.states),n=0,i=e.length;i>n;n++)this.removeState(e[n]);return!0},linkStates:function(e,t,n){function i(e){var t=i.callback,n=i.state1,o=i.state2,r=s.getState(n),a=s.getState(o);return t||r!==a?void(e===o?s.setState(n,t?t(a):a):e!==n||t||s.setState(o,r)):!0}var s=this;this.states[e]||this.setState(e,""),this.states[t]||this.setState(t,""),(this.states[e].linkedStates[t]||this.states[t].linkedStates[e])&&this.unlinkStates(e,t),i.callback=n,i.state1=e,i.state2=t,this.states[e].linkedStates[t]=i,this.states[t].linkedStates[e]=i,this.setState(t,this.getState(e)),this.addStateListener("statechange",i)},unlinkStates:function(e,t){var n=this.states[e],i=this.states[t];if(!n||!i)throw ReferenceError("No such state");if(!n.linkedStates[t])throw TypeError("["+e+"] isn't linked to ["+t+"]");return this.removeStateListener("statechange",n.linkedStates[t]),n.linkedStates[t]=undf,i.linkedStates[e]=undf,!0},hardLinkStates:function(e,n){if(!this.states[n])throw ReferenceError("No such state");this.states[e]&&removeState(e);var i=this;this.states[e]=this.states[n],t.defineProperty(this,e,{configurable:!0,set:function(t){i.setState(e,t)},get:function(){return i.getState(e)}})},copyState:function(e,n){if(!this.states[e])throw ReferenceError("No such state");this.states[n]&&this.removeState(n),this.setState(n,null);var i=t.create(this.states[e]);this.states[n]=i},extend:function(e){for(var t=[],n=1,i=arguments.length;i>n;n++)t.push(arguments[n]);var s={component:this};this.extensionData.push(s),e.apply(this,t.concat([s,LCES.EXTENDED_COMPONENT]))},dataSetState:function(e,t,n){this._setState(e,t,n)},addEvent:function(e){return!e||"string"!==jSh.type(e)||this.events[e]?!1:void(this.events[e]={name:e,listeners:[]})},removeEvent:function(e){return e&&"string"===jSh.type(e)&&this.events[e]?void(this.events[e]=undf):!1},removeAllEvents:function(){for(var e=this.events,t=0,n=e.length;n>t;t++)e[t]=undf},triggerEvent:function(e,t){if(!e||"string"!==jSh.type(e)||!this.events[e])return!1;if(!t||"object"!==jSh.type(t))throw Error(e+" cannot be triggered without an EventObject");this.events[e].listeners.forEach(function(e){try{e(t)}catch(n){console.error(n)}})},on:function(e,t){if("function"!=typeof t)return!1;this.events[e]||this.addEvent(e);var n=this.events[e];n.listeners.push(t)},removeListener:function(e,t){var n=this.events[e];if(!e||"string"!==jSh.type(e)||!n)return!1;var i=n.listeners.indexOf(t);-1!==i&&n.listeners.splice(i,1)}},window.lcComponent=function(){if(this.type)return!0;this.type="LCES Component",this.isLCESComponent=!0,this.LCESID=LCES.components.length,LCES.components.push(lces.noReference?null:this),this.states={},this.dataLinks=[],this.extensionData=[];var t=this;return jSh.extendObj(this,lcComponentMethods),this.setState("LCESName",""),this.addStateListener("LCESName",function(e){e&&(LCES.components[e]=t)}),this.addStateCondition("LCESName",function(e){if(this.get()){if(this.get()===e)return!1;LCES.components[this.get()]=void 0}return!0}),this.setState("statechange","statechange"),this.setState("newstate","newstate"),this.states.statechange.states={},this._setState=this.setState,this.setState=e,this.groups=[],this.events=[],!1};var n={addMember:function(e){var t=this,n=arguments;return"array"==jSh.type(e)?e.forEach(function(e){n.callee.call(t,e)}):jSh.toArr(arguments).length>1?jSh.toArr(arguments).forEach(function(e){n.callee.call(t,e)}):(this.members.push(e),e.groups.push(this),e.addStateListener("statechange",this.memberMethod),void this.setState("newmember",e,!0))},removeMember:function(e){e.groups.splice(e.groups.indexOf(this),1),this.members.splice(this.members.indexOf(e),1),e.removeStateListener("statechange",this.memberMethod)},addExclusiveListener:function(e,t){if(!this.states[e])throw ReferenceError("No such state");if("function"!==jSh.type(t))throw TypeError("Listener "+t+" is not of type 'function'");this.states[e].exclusiveFunctions.push(t)},removeExclusiveListener:function(e,t){if(!this.states[e])throw ReferenceError("No such state");-1!==this.states[e].exclusiveFunctions.indexOf(t)&&this.states[e].splice(this.states[e].exclusiveFunctions.indexOf(t),1)}};lcComponent.prototype={__lcComponent__:1},lcComponent.prototype.constructor=lcComponent,window.lcGroup=function(){function e(t,n,i){for(var s=e.that,o=e.members,r=0,a=o.length;a>r;r++){var l=o[r];(l.states[t]&&l.states[t].stateStatus!==n||i)&&(s.exclusiveMembers[t]?s.exclusiveMembers[t]&&(l._setState(t,s.isExclusiveMember(t,l)?!s.getState(t):s.getState(t)),l._setState("statechange",t,!0)):(l._setState(t,n,i),l._setState("statechange",t,!0)))}}var t=lcComponent.call(this);t||(this.type="LCES Group");var i=this,s=[];this.members=s,this.lastTrigger={};i.states;jSh.extendObj(this,n);var o=!1;e.that=i,e.members=s,this.recurring=!0,this.recurringMemberTrigger=!0,this.memberMethod=function r(t){var n=r.that,i=this.component;n.states[t]&&"LCESName"!==t&&(n.lastTrigger[t]=i,n.states[t].isExclusive?n.setState(t,n.getState(t),n.recurringMemberTrigger):(e(t,i.states[t].stateStatus),o=!0,n.setState(t,i.states[t].stateStatus),o=!1))},this.memberMethod.that=i,this.setState("newmember",null),this.addStateListener("statechange",function(t){return o?void(o=!1):void("LCESName"!==t&&e(t,i.states[t].stateStatus,this.states[t].recurring))}),this.addStateListener("newstate",function(e){i.states[e].isExclusive=!1,i.states[e].exclusiveFunctions=[]}),this.onExclusiveStateChange=function(){var e=this,t=i.exclusiveMembers[this.name];-1===t.indexOf(i.lastTrigger[this.name])&&(t.length===t.memberLimit&&(t[t.length-1]._setState(this.name,this.get()),t.splice(t.length-1,1)),t.splice(0,0,i.lastTrigger[this.name])),this.exclusiveFunctions.forEach(function(t){t.call(e,i.lastTrigger[e.name])})},this.setExclusiveState=function(e,t,n){this.states[e].isExclusive=!0,this.exclusiveMembers[e]=[],this.exclusiveMembers[e].memberLimit=n,this.setState(e,!t),this.addStateListener(e,this.onExclusiveStateChange)},this.exclusiveMembers={},this.isExclusiveMember=function(e,t){return this.hasState(e,!0)&&this.exclusiveMembers[e]?-1!==this.exclusiveMembers[e].indexOf(t):!1}},jSh.inherit(lcGroup,lcComponent),window.lcData=function(){var e=lcComponent.call(this);e||(this.type="LCES Data Link");var t=this;this.onchange=function(e){var t={};t[e]=this.get();var n=new lcRequest({method:"post",uri:"/action",query:t,form:!0});n.send()},this.addStateListener("newstate",function(e){t.addStateListener(e,function(){t.onchange.call(this,e)})})},window.lcRequest=function(e){function t(e){if("array"===jSh.type(e))return encodeURIComponent(e.join(","));if("object"!==jSh.type(e))return encodeURIComponent(e.toString());var t="";for(prop in e)if(e.hasOwnProperty(prop))switch(jSh.type(e[prop])){case"string":t+="&"+prop+"="+encodeURIComponent(e[prop]);break;case"number":t+="&"+prop+"="+e[prop];break;case"array":t+="&"+prop+"="+encodeURIComponent(e[prop].join(";"));break;case"object":t+="";break;case"null":t+="&"+prop+"=null";break;case"undefined":t+="";break;default:t+=""}return t}var n=lcComponent.call(this);n||(this.type="LCES Request");this.xhr=new XMLHttpRequest;var i=this.xhr;if(this.abort=i.abort.bind(i),i.onreadystatechange=e.callback,e.setup&&"function"==typeof e.setup&&e.setup.call(i),e.query){var s="";s=t(e.query).substr(1)}else s=e.formData||"";var o=e.method&&-1==e.method.toLowerCase().indexOf("get")?"POST":"GET";i.open(o,(e.uri||e.url)+("GET"==o&&s?"?"+s:""),e.async!==undf?e.async:!0),e.form&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.send=function(){i.send("POST"==o?s:undf)}},jSh.inherit(lcRequest,lcComponent),window.lces||(window.lces=function(e){return LCES.components[e]}),lces.types={},lces.noReference=!1,lces["new"]=function(e,t){var n=e&&lces.types[e.toLowerCase()]?e.toLowerCase():null,i=n?new lces.types[n](t):new lcComponent(t);return i},lces.deleteComponent=function(e){if(!(e&&e instanceof lcComponent))return console.error("LCES ERROR: Deleting component failed, invalid LCES component"),!1;var t=LCES.components,n=e.LCESName;t[e.LCESID]=undf,e.removeAllGroupLinks(),e.removeAllStates(),e.removeAllEvents(),n&&t[n]===e&&(t[n]=undf)},lces.initSystem=function(){var e=this;this.preInitFunctions=[],this.initFunctions=[],this.postInitFunctions=[],this.initPriority={0:this.preInitFunctions,1:this.initFunctions,2:this.postInitFunctions},jSh.extendObj(this,lces.initSystem.methods),this.initiated=null,this.init=function(){if(this.initiated)return!1;this.initiated=!0;for(var n=t.getOwnPropertyNames(this.initPriority),i=0,s=n.length;s>i;i++)for(var o=e.initPriority[n[i]],r=0,a=o.length;a>r;r++)try{o[r]()}catch(l){console.error(l)}}},lces.initSystem.methods={getInitPriority:function(e){return!isNaN(e)&&this.initPriority[e]?this.initPriority[e]:this.initPriority[1]},addInit:function(e,t){if(t=this.getInitPriority(t),"function"!==jSh.type(e))throw TypeError("LCES Init: Init Function isn't a function");t.push(e)},removeInit:function(e,t){t=this.getInitPriority(t);var n=t.indexOf(e);n>=0&&t.splice(n,1)},insertInit:function(e,t,n){if(n=this.getInitPriority(n),"function"!==jSh.type(e))throw TypeError("LCES Init: Init function provided isn't a function");var i=n.indexOf(t);i>=0&&n.splice(i,0,e)},replaceInit:function(e,t,n){if(n=this.getInitPriority(n),"function"!==jSh.type(e))throw TypeError("LCES Init: Init function provided isn't a function");var i=n.indexOf(func);i>=0&&n.splice(i,1,e)}},lces.initSystem.call(lces)},lcesAppendCSS("lces-core-styles",'.lces-themify{font-family:Arial;}br2{position:relative;display:block;padding:0px;margin:0px;height:10px;}.lces-themify hr{border-top:0px;border-style:solid;opacity:0.75;}.lces-themify a{font-weight:normal;text-decoration:none;}.lces-themify label{font-weight:bold;}@font-face{font-family:"CODE";src:url(https://b-fuze.github.io/lces/main-css/codebold.otf);}@font-face{font-family:"Lato";src:url(https://b-fuze.github.io/lces/main-css/lato-reg.ttf);}@font-face{font-family:"Righteous";src:url(https://b-fuze.github.io/lces/main-css/righteous.ttf);}@font-face{font-family:"Couture";src:url(https://b-fuze.github.io/lces/main-css/couture-bld.otf);}.lces-themify h1,.lces-themify h2,.lces-themify h3,.lces-themify h4,.lces-themify h5,.lces-themify h6{margin:0px;margin-bottom:10px;font-family:Lato;font-weight:normal;}.lces-themify h1{font-size:2.25em;}.lces-themify h2{font-size:2em;}.lces-themify h3{font-size:1.75em;}.lces-themify h4{font-size:1.5em;}.lces-themify h5{font-size:1.25em;}.lces-themify h6{font-size:1.125em;}.lces-themify .lc-i{font-style:italic;}.lces-themify .lc-b{font-weight:bold;}.lces-themify .lc-centertext{text-align:center;}.lces-themify .lc-indent{margin-left:15px;margin-right:15px;}.lces-themify .lc-inlineblock{display:inline-block;}.lces-scrollbars-visible *:hover>.lces-scrollbar-trough,.lces-scrollbars-visible .lces-scrollbar-trough.active{opacity:0.75;}.lces-scrollbars-visible .lces-scrollbar-trough{opacity:0.5;}.lces-scrollbar{position:absolute;width:100%;}.lces-scrollbar-trough{position:absolute;top:0px;bottom:0px;width:6px;background:rgba(0,0,0,0.075);opacity:0;transition:opacity 200ms ease-out,width 200ms ease-out;}.lces-scrollbar-trough:hover,.lces-scrollbar-trough.active{width:9px;}.lces-scrollbar-trough.lc-sbright{right:0px;}.lces-scrollbar-trough.lc-sbleft{left:0px;}lces-placeholder{display:none;}.lcescontrol{position:relative;opacity:1;transition:opacity 200ms ease-out;}.lcescontrol[disabled]{opacity:0.5;cursor:default !important;}.lcescontrol[disabled] *{cursor:default !important;}.lcescontrol .lcescontrolclick{position:absolute;left:0px;top:0px;right:0px;bottom:0px;z-index:1000;display:none;}.lces-notification>div{background:transparent;transition:height 400ms ease-out;overflow:hidden;}.lces-themify *::-webkit-input-placeholder,.lces-themify *:-moz-placeholder,.lces-themify *::-moz-placeholder,.lces-themify *:-ms-input-placeholder{color:#BFBFBF;font-style:italic;font-weight:normal;}.lces-numberfield::-webkit-input-placeholder{font-style:normal;}.lces-numberfield:-moz-placeholder{font-style:normal;}.lces-numberfield::-moz-placeholder{font-style:normal;}.lces-numberfield:-ms-input-placeholder{font-style:normal;}input.lces[type="text"],input.lces[type="password"]{vertical-align:middle;}input.lces[type="text"],input.lces[type="password"],textarea.lces{padding:3px;min-width:150px;height:auto;outline:0px;border:2px solid #000;border-radius:3px;color:#262626;background-color:#fff;font-size:14px;font-family:"Trebuchet MS";resize:none;}input.lces[type="text"]:disabled,input.lces[type="password"]:disabled{background-color:#F2F2F2;}.numberfield-container{position:relative;display:inline-block;}input.lces.lces-numberfield{font-size:14px;font-weight:bold;text-align:center;border-right-width:16px;border-top-right-radius:4px;border-bottom-right-radius:4px;}.numberfield-container .arrow{width:16px;height:50%;position:absolute;right:0px;cursor:pointer;background:rgba(0,0,0,0);}.numberfield-container .arrow.active{background:rgba(0,0,0,0.1);}.numberfield-container .arrow svg{position:absolute;top:0px;right:0px;bottom:0px;left:0px;margin:auto auto;opacity:0.85;transition:opacity 200ms ease-out;}.numberfield-container .arrow:hover svg{opacity:1;}.numberfield-container .arrow.top{top:0px;border-top-right-radius:4px;}.numberfield-container .arrow.bottom{bottom:0px;border-bottom-right-radius:4px;}.lces-slider{position:relative;top:-3px;vertical-align:middle;display:inline-block;border:2px solid #000;border-radius:5px;height:28px;width:138px;overflow:hidden;background:#fff;line-height:normal;}.lces-slider-min,.lces-slider-max,.lces-slider-value{position:absolute;top:4px;font-family:Righteous;font-size:16px;color:#D9D9D9;}.lces-slider-min{left:5px;}.lces-slider-max{right:5px;}.lces-slider-value{right:0px;left:0px;text-align:center;color:#f00;opacity:0.25;}.lces-slider-scrubbar{position:absolute;top:0px;right:0px;bottom:0px;left:0px;}.lces-slider-scrubber{position:absolute;top:1px;left:0px;margin:0px 0px 0px 1px;width:15px;height:26px;border-radius:3.5px;background:#000;opacity:0.75;transition:opacity 250ms ease-out;}.lces-slider.animated .lces-slider-scrubber{transition:opacity 250ms ease-out,left 150ms cubic-bezier(.1,.41,0,.99);}.lces-slider-scrubbar:hover .lces-slider-scrubber,.lces-slider.scrubbing .lces-slider-scrubber{opacity:1;}.lces-colorchooser{position:relative;top:-3px;vertical-align:middle;display:inline-block;}.lces-colorchooser .lces-cc-display{display:inline-block;height:26px;width:46px;border-radius:4px;border:2px solid #000;}.lces-colorchooser .lces-cc-color{margin:4px;width:38px;height:18px;border-radius:1px;background:#000;cursor:pointer;}.lces-colorchooser-modal{position:absolute;z-index:20000000;top:0px;left:0px;margin:5px 0px 0px 0px;border-radius:5px;background:rgba(255,255,255,0.95);overflow:hidden;box-shadow:0px 2px 5px rgba(0,0,0,0.25);opacity:0;transform-origin:0% 0%;transform:scale(0.85);transition:transform 250ms ease-out,opacity 250ms ease-out;}.lces-colorchooser-modal.flipped{margin:0px;transform-origin:0% 100%;}.lces-colorchooser-modal.visible{opacity:1;transform:scale(1);}.lces-colorchooser-modal .lces-cc-section{padding:15px;}.lces-colorchooser-modal .lces-cc-section.lces-cc-controls{padding-top:0px;padding-bottom:0px;background:#F2F2F2;}.lces-colorchooser-modal .lces-cc-wheel{position:relative;width:180px;height:180px;border-radius:100%;background-color:#F2F2F2;background-size:100%;}.lces-colorchooser-modal .lces-cc-wheel-value{position:absolute;left:0px;top:0px;width:100%;height:100%;border-radius:100%;background:#000;opacity:0;}.lces-colorchooser-modal .lces-cc-cursor{position:absolute;width:10px;height:10px;border-radius:100%;background:#fff;border:1px solid #000;}.lces-colorchooser-modal .lces-cc-row{overflow:auto;}.lces-colorchooser-modal .lces-cc-label{float:left;display:block;width:16px;font-family:Couture;font-size:25px;color:#808080;background:#e5e5e5;padding:10px 7px 5px 7px;cursor:default;margin-right:10px;}.lces-colorchooser-modal .lces-slider{margin-top:7px;border-width:1px;}.lces-file *{cursor:pointer !important;}.lces-file input[type="file"]{position:absolute;margin:0px;width:100%;height:100%;opacity:0;z-index:5;cursor:pointer !important;}.lces-file{position:relative;display:block; padding:0px 33px 0px 0px;height:36px;width:123px;border-radius:3px;background-color:#000;font-family:Arial;font-weight:bold;font-size:14px;cursor:pointer !important;}.lces-file>div{position:absolute;top:0px;left:0px;right:33px;bottom:0px;}.lces-file>div>div{display:table;width:100%;height:100%;}.lces-file>div>div>div{display:table-cell;vertical-align:middle;}.lces-file>div>div>div>div{text-align:center;color:#fff;}.lces-file>aside{position:absolute;right:0px;top:0px;bottom:0px;padding:8px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:rgba(0,0,0,0.25);transition:background 200ms ease-out;}.lces-file:hover>aside{background:rgba(0,0,0,0.15);}.lces-file:active>aside{background:rgba(0,0,0,0.5);}.lces-themify button{position:relative;font-family:Arial;font-size:14px;font-weight:bold;outline:0px;border-radius:3px;margin:0px 10px 10px 0px;padding:5px 10px;border:0px;color:#fff;background:#000;cursor:pointer;}.lces-themify button:before,.lces-file:after{content:"";position:absolute;top:0px;left:0px;width:100%;height:100%;border-radius:3px;background:rgba(255,255,255,0);transition:background 100ms ease-out;}.lces-themify button:hover:before,.lces-file:hover:after{background:rgba(255,255,255,0.2);}.lces-themify button:active:before,.lces-file:active:after{background:rgba(0,0,0,0.075);transition:background 0ms ease-out !important;}.lcesradio{position:relative;top:1px;width:12px;height:11px;margin:2px;display:inline-block;}.lcesradio .radiobuttoncolor{fill:#000;}.lcesradio svg path:last-child{opacity:0;transition:opacity 150ms ease-out;}.lcesradio[checked] svg path:last-child{opacity:1;}.lcescheckbox{position:relative;vertical-align:middle;width:14px;height:14px;margin:2px;display:inline-block;}.lcescheckbox .checkboxcolor{fill:#000;}.lcescheckbox svg path:last-child{opacity:0;transition:opacity 150ms ease-out;}.lcescheckbox[checked] svg path:last-child{opacity:1;}.lcesdropdown{position:relative;vertical-align:middle;top:-3px;margin:0px;display:inline-block;min-width:98px;padding:3px;border:2px solid #000;border-width:2px 27px 2px 2px;border-radius:3px;text-align:left;font-size:14px;font-weight:bold;line-height:1.2;background:#fff;cursor:default;}.lcesdropdown .lcesdropdown-arrow{position:absolute;top:9px;right:-18px;height:6px;width:10px;}.lcesdropdown .lcesdropdown-arrow svg{position:absolute;transform:scaleY(1.2);}.lcesdropdown .lcesoptions{position:absolute;z-index:600000;top:100%;left:-2px;right:-27px;border:0px solid #000;border-width:2px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;font-weight:bold;background:#fff;box-shadow:0px 2px 3px rgba(0,0,0,0.2);transform-origin:50% 0%;transform:scale(0.85);opacity:0;display:none;transition:transform 250ms ease-out,opacity 250ms ease-out;}.lcesdropdown.visible .lcesoptions{opacity:1;transform:scale(1);}.lcesdropdown.flipped .lcesoptions{transform-origin:50% 100%;top:auto;bottom:100%;border-radius:0px;border-top-right-radius:3px;border-top-left-radius:3px;}.lcesdropdown .lcesselected{}.lcesoption{position:relative;padding:3px;margin-bottom:1px;background:rgba(0,0,0,0);color:#484848;transition:background-color 200ms ease-out;}.lcesoption:after{position:absolute;content:"";top:100%;left:2px;right:2px;height:1px;background:#000;opacity:0.5;}.lcesoption:hover,.lcesoption[lces-selected]{background:rgba(0,0,0,0.05);}.lcesoption:last-child{margin-bottom:0px;}.lcesoption:last-child:after{height:0px;}.lces-themify table{border-spacing:0px;font-family:Arial;}table.lces thead th{position:relative;border:0px;border-top:3px solid #000;border-bottom:3px solid #000;padding:7px 10px;font-size:13px;}table.lces thead th:before{position:absolute;content:"";left:0px;top:10%;bottom:10%;width:1px;background:#000;}table.lces thead th:first-child:before{width:0px;}table.lces tr{padding:0px;margin:0px;border:0px;background:#fff;}table.lces tr[checker]{}table.lces tr td{border:0px;padding:10px;}.lces-window{position:fixed;z-index:1000000;top:0px;left:0px;opacity:0;color:#484848;line-height:1.6;transition:opacity 400ms ease-out;}.lces-window[visible]{opacity:1;}.lces-window[window-invisible]{margin-left:-9999999%;}.lces-window>div{padding:0px;}.lces-window>div>div{background:#fff;overflow:hidden;border-radius:4px;box-shadow:0px 2px 5px rgba(0,0,0,0.25);}.lces-window .lces-window-title{padding:15px 10px;font-family:Arial;font-size:14px;font-weight:bold;color:#000;background:rgba(0,0,0,0.1);cursor:default;}.lces-window .lces-window-contents{padding:25px 20px 30px 20px;}.lces-window .lces-window-buttonpanel{padding:10px;text-align:right;background:rgba(0,0,0,0.1);}.lces-window .lces-window-buttonpanel button{margin-bottom:0px;}.lces-window .lces-window-buttonpanel button:last-child,.lces-window .lces-window-buttonpanel div:last-child button{margin:0px;}.lces-notification{border-radius:3px;position:static;width:275px;box-shadow:0px 2px 3px rgba(0,0,0,0.2);cursor:default;}.lces-notification[visible]{opacity:0.9;}.lces-notification>div{padding:0px;margin:4px 0px;border:1px solid #000;border-radius:3px;background:#fff;overflow:hidden;}.lces-window.lces-notification>div>div{background:rgba(0,0,0,0.025);box-shadow:none;}.notification-alignment.notifi-relative .lces-notification>div{margin:0px !important;}.notification-alignment{position:fixed;z-index:1000000;}.notification-alignment.notifi-relative{position:static !important;}.notifi-top{top:5px;}.notifi-bottom{bottom:5px;}.notifi-middle{top:45%;}.notifi-right{right:5px;text-align:right;}.notifi-left{left:5px;}.notifi-center{left:5px;right:5px;text-align:center;}.notifi-center .lces-notification{margin-right:auto;margin-left:auto;}.lces-accordion{display:block;margin:0px 0px 10px 0px;}.lces-accordion .lces-acc-section{display:block;border:1px solid rgba(0,0,0,0.25);border-radius:3px;overflow:hidden;margin:0px 0px 5px 0px;}.lces-accordion .lces-acc-section .lces-acc-title{display:block;padding:5px;font-weight:bold;font-size:13px;background:rgba(0,0,0,0.25);border:0px;border-bottom:0px solid rgba(0,0,0,0.05);cursor:pointer;}.lces-accordion .lces-acc-section.lces-acc-open .lces-acc-title{border-bottom-width:1px;}.lces-accordion .lces-acc-section .lces-acc-title .lces-acc-arrow{position:relative;top:3px;display:inline-block;width:15px;height:15px;transform:rotate(0deg);padding:0px;margin:0px;margin-right:5px;transition:transform 500ms cubic-bezier(.1,.41,0,.99);}.lces-accordion .lces-acc-section.lces-acc-open .lces-acc-title .lces-acc-arrow{transform:rotate(90deg);}.lces-accordion .lces-acc-section .lces-acc-title .lces-acc-arrow svg{margin:0px;}.lces-accordion .lces-acc-section .lces-acc-contents>div{padding:10px;}.lces-accordion .lces-acc-section .lces-acc-contents{overflow:hidden;height:0px;transition:height 500ms cubic-bezier(.1,.41,0,.99);}.lces-accordion .lces-acc-section.lces-acc-open .lces-acc-contents{overflow:auto;}',document.getElementsByClassName("lces-themify-styles")[0]),
lcesAppendCSS("lces-responsive-styles","@media screen and (max-width:560px){.no-mobile{display:none;}.lces-window:not(.lces-notification):not([window-invisible]){top:0px !important;bottom:0px ;left:0px !important;right:0px;margin:20px;}.lces-window:not(.lces-notification):not([window-invisible])>div{position:absolute;top:0px;right:0px;bottom:0px;left:0px;}.lces-window:not(.lces-notification):not([window-invisible])>div>div{position:relative;width:100% !important;height:100% !important;}.lces-window:not(.lces-notification):not([window-invisible])>div>div .lces-window-contents{}.lces-window:not(.lces-notification):not([window-invisible]) .lces-window-contents{position:absolute;top:0px;bottom:0px;right:0px;left:0px;width:auto !important;height:auto !important;overflow:auto;}.lces-window.lces-window-titlevisible:not(.lces-notification):not([window-invisible]) .lces-window-contents{top:52px;}.lces-window.lces-window-buttonsvisible:not(.lces-notification):not([window-invisible]) .lces-window-contents{bottom:46px;}.lces-window:not(.lces-notification):not([window-invisible]) .lces-window-buttonpanel{position:absolute;left:0px;right:0px;bottom:0px;}}",document.getElementsByClassName("lces-themify-styles")[0]),lces.appendColorize!==!1&&lcesAppendCSS("lces-themify-styles lces-ui-colorize-src",'.lcesoption:after,.lces-file,.lces-themify button,table.lces thead th:before,.lces-slider-scrubber{background-color: #800070;}.lces-acc-arrow svg,.checkboxsvg .checkboxcolor,.radiobuttonsvg .radionbuttoncolor,.genreremovesvg .genreremovecolor{fill: #800070;}.lcesoption:hover,.lcesoption[lces-selected],table.lces tr{background-color:rgba(128, 0, 112,0.125);}hr.lces,input.lces[type="text"],input.lces[type="password"],textarea.lces,.lcesdropdown,.lcesdropdown .lcesoptions,table.lces thead th,.lces-slider,.lces-colorchooser .lces-cc-display,.lces-notification>div{border-color: #800070;}.lces-accordion .lces-acc-section .lces-acc-title,.lces-window .lces-window-title,.lces-window .lces-window-buttonpanel{background-color:rgba(128, 0, 112,0.1);}.lces-themify a,.lces-themify h1,.lces-themify h2,.lces-themify h3,.lces-themify h4,.lces-themify h5,.lces-themify h6,.lcesdropdown,table.lces tr,.lces-user-text-color,.lces-window .lces-window-title{color: #800070;}.lces-accordion .lces-acc-section{border-color:rgba(128, 0, 112,0.5);}table.lces tr[checker]{background-color:rgba(128, 0, 112,0.02);}'),lces.themify={colorize:function(e,t,n){var i,s=[e,t,n].map(function(e){return("number"!=typeof e||isNaN(e)||0>e||e>255)&&(i=!0),Math.round(e)});if(i)return!1;var o=jSh(".lces-themify-styles")[0];return o?(cssStr=lces.css.colorize(o,s[0],s[1],s[2]),o.removeChild(o.childNodes[0]),void o.appendChild(jSh.t(cssStr))):!1}},lces.themify.colorize.compile=function t(){var e=Array.prototype.slice.call(document.getElementsByClassName("lces-ui-colorize-src"));e.forEach(function(e){e.lcesColorizeSrc=e.childNodes[0].nodeValue,e.removeChild(e.childNodes[0]);var n=t.compileSrc(e.lcesColorizeSrc),i=document.createTextNode(n);e.appendChild(i)})},lces.themify.colorize.compile.compileSrc=function(e){return e=e.replace(/lc-rgbhsv\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+\s*\)/g,"rgb($1,$2,$3)"),e=e.replace(/lc-rgbahsv\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(\.\d+)?)\s*,\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+\s*\)/g,"rgba($1,$2,$3,$4)")};var lcesHiddenStuff=lcesAppendCSS("lces-hidden-stuff",lces.preHideThemify!==!1?".lces-themify{opacity:0;}":"");lces.rc[50]=function(){lces.addInit(function(){lcesHiddenStuff.disabled="disabled",lces.themify.colorize.compile()})},lces.rc[10]=function(){function e(){r.triggerEvent("settingChange",{setting:this.name,value:this.stateStatus}),this.component.triggerEvent(this.name,{value:this.stateStatus})}var t=window.jSh,n=window.lces,i=window.Object,s=window.Boolean,o=window.lcComponent;n.user=new o,n.user.settings=new o;var r=n.user.settings;r.Setting=function l(e,n,i,o){if(this===window||this===r)return new l(e,n,i,o);this.type="LCES User Setting Entry",this.name=null,this.settName=e,this.defValue=i,this.settType=null,this.settMultiple="array"===t.type(o)&&o.length>1&&-1!==o.indexOf(i),n="string"==typeof n?n.toLowerCase():"";var a=-1!==n.indexOf("number"),c=-1!==n.indexOf("boolean"),d=-1!==n.indexOf("date");!a||!c||!d||-1!==n.indexOf("string");n?a?this.settType="number":c?this.settType="boolean":d?this.settType="date":this.settType="string":this.settType="string",a?this.condition=function(e){if("number"!==t.type(e)){var n=parseFloat(e);return isNaN(n)||this.component.setState(this.name,n),!1}return!0}:c?this.condition=function(e){if("boolean"!==t.type(e)){var n=s(e);return this.component.setState(this.name,n),!1}return!0}:d?this.condition=function(e){var n;if("date"!==t.type(e)){if(n=new Date(e),isNaN(n.getTime()))return!1;this.component.setState(this.name,n)}else if(n=e,isNaN(n.getTime()))return!1;return!0}:this.condition=function(e){return"string"!==t.type(e)?(this.component.setState(this.name,e+""),!1):!0}},t.inherit(r.Setting,o),r.addEvent("settingChange"),r.manifest=function(t){function n(t,s){i.getOwnPropertyNames(t).forEach(function(i){var a=t[i];if("object"==typeof a)if(a instanceof r.Setting&&!a.name)a.name=i,a.userGroup=s,a.functions=[],s.addEvent(i),s.events[i].listeners=a.functions,s.setState(i,a.defValue),s.addStateListener(i,e.bind(s.states[i])),s.addStateCondition(i,a.condition),s._settings.push(i);else{var l=new o;s[i]=l,s._groups.push(i),l._settings=[],l._groups=[],n(a,l)}})}r.user=new o,n(t,a)},r.settObtain=function(e,t){var n,i=e.split("."),s=i.pop(),o=r.groupObtain(i.join("."),!t);return o?(n=o[s],n instanceof r.Setting||t||(n="lces.user.settings.get - "+e+" failed"),"string"!=typeof n||t?n:(console.error("LCES User Module ERROR: "+n),!1)):undf},r.groupObtain=function(e,n){if("object"!==t.type(r["default"])||"string"!=typeof e)return!1;e=e.split(".");for(var i,s=n?r["default"]:r.user,o=0,a=e.length;a>o;o++){var l=s[e[o]];if(!l){i=e.join(".")+" failed, no such group '"+e[o]+"'";break}if(l instanceof r.Setting){i=e.join(".")+" failed, '"+e[o]+"' "+(o+1)+" is a setting and not a group";break}if("object"!==t.type(l)){i=e.join(".")+" failed, '"+e[o]+"' is "+t.type(l);break}s=l}return"string"==typeof i?(console.error("LCES User Module ERROR: "+i),!1):i=s},r.set=function(e,t,n){var i=e.split("."),s=i.pop(),o=r.settObtain(e);return o?(o.userGroup.setState(s,t,n),!0):!1},r.get=function(e){return r.settObtain(e,!0)},r._on=r.on,r.on=function(){var e,n;if(t.toArr(arguments).forEach(function(t){"string"!=typeof t||e?"function"!=typeof t||n||(n=t):e=t}),!n)return!1;if(!e)return r._on("settingChange",n),!0;var i=r.settObtain(e);return i?(i.functions.push(n),!0):!1},r.setState("default",null);var a={_settings:[],_groups:[]};r.setState("user",null),r.states.user.get=function(){function e(t,n){for(var i=t._settings,s=t._groups,o=0,r=i.length;r>o;o++){var a=i[o];n[a]=t[a]}for(var o=0,r=s.length;r>o;o++){var l=s[o];n[l]={},e(t[l],n[l])}return n}var t={};return e(a,t)},r.addStateListener("default",r.manifest),r.addStateCondition("default",function(e){return"object"!==t.type(e)||e.constructor!==i?!1:!0}),r.addStateListener("user",function(e){"object"===t.type(e)&&e.constructor===i&&t.mergeObj(a,e,!0)})},lces.rc[6]=function(){lces.ui.RGB2HSV=function(e,t,n){if(e===t&&t===n)return{h:0,s:0,v:e};var i=[e+"r",t+"g",n+"b"],s=[i[0],i[1],i[2]].sort(function(e,t){return parseFloat(e)<parseFloat(t)?1:-1}),o=s.map(function(e){return parseFloat(e)});s=s.map(function(e){return e.substr(-1)});var r=(o[0]-o[2])/o[0],a=o[0]/1,l=o[0]-o[2],c=60;switch(s[0]){case"r":c*=(t-n)/l%6;break;case"g":c*=(n-e)/l+2;break;case"b":c*=(e-t)/l+4}return{h:c,s:r,v:a}},lces.ui.HSV2RGB=function(e,t,n){var i,s=n*t,o=e/60,r=s*(1-Math.abs(o%2-1));if(0===t)i=[0,0,0];else switch(Math.floor(o)){case 0:i=[s,r,0];break;case 1:i=[r,s,0];break;case 2:i=[0,s,r];break;case 3:i=[0,r,s];break;case 4:i=[r,0,s];break;case 5:i=[s,0,r]}var a=n-s;return[i[0]+a,i[1]+a,i[2]+a]},lces.ui.colorChooserTemplate=lces.template({render:jSh.dm(".lces-colorchooser.visible",undf,[jSh.dm(".lces-cc-display",undf,[jSh.dm(".lces-cc-color")]),jSh.dm(".lces-colorchooser-modal",undf,[jSh.dm(".lces-cc-section",undf,[jSh.dm(".lces-cc-wheel",undf,[jSh.dm(".lces-cc-wheel-value"),jSh.dm(".lces-cc-cursor")])]),jSh.dm(".lces-cc-section.lces-cc-controls",undf,[jSh.dm(".lces-cc-row.lces-cc-saturation",undf,[jSh.dm(".lces-cc-label","S"),lcSlider({min:0,max:100,hideValue:!0})]),jSh.dm(".lces-cc-row.lces-cc-value",undf,[jSh.dm(".lces-cc-label","V"),lcSlider({min:0,max:100,hideValue:!0})])])])])}),window.lcColorChooser=function(e){var t=lces.template.isChild(arguments,this);if(t)return t;lcTextField.call(this);var n=jSh("#lces-colorchoosermodalcontainer");if(!n){var n=jSh.d("#lces-colorchoosermodalcontainer.lces-themify");document.body.appendChild(n)}this.type="LCES Color Chooser Widget";var i=this;this.element=new lces.ui.colorChooserTemplate(this);var s=this.jSh(".lces-cc-color")[0],o=this.jSh(".lces-cc-cursor")[0],r=this.jSh(".lces-colorchooser-modal")[0],a=this.jSh(".lces-cc-wheel")[0],l=this.jSh(".lces-cc-wheel-value")[0],c=this.jSh(".lces-slider")[0],d=this.jSh(".lces-slider")[1],h=this.jSh(".lces-cc-saturation")[0],u=this.jSh(".lces-cc-value")[0];n.appendChild(r),r.style.display="block",a.style.backgroundImage="url(https://b-fuze.github.io/lces/main-img/colorchooser.png)",c.oldComponent=c.component,d.oldComponent=d.component,s.parentNode.component=this,s.component=this,r.component=this,a.component=this,c.component=this,d.component=this,c=c.oldComponent,d=d.oldComponent,c.value=100,d.value=100;var p=r.offsetHeight,f=a.offsetWidth,m=o.offsetWidth,g=null;this.setState("modalVisible",!1),this.addStateListener("modalVisible",function(e){if(e){var t=s.parentNode.getBoundingClientRect();innerHeight-t.bottom-15<p?(r.classList.add("flipped"),r.style.top=scrollY+t.top-p-5+"px",r.style.left=scrollX+t.left+"px"):(r.classList.remove("flipped"),r.style.top=scrollY+t.top+(t.bottom-t.top)+"px",r.style.left=scrollX+t.left+"px"),r.style.display="block",g=setTimeout(function(){r.classList.add("visible")},10)}else clearTimeout(g),r.classList.remove("visible")}),onTransitionEnd(r,function(e){if("opacity"==e.propertyName){var t=getComputedStyle(this).opacity;0==t&&(r.style.display="none")}});var v=null;s.addEventListener("mouseover",function(){v=setTimeout(function(){i.modalVisible=!0,i.focused=!0,v=null},500),this.addEventListener("mouseout",function e(){this.removeEventListener("mouseout",e),v&&clearTimeout(v)})}),s.addEventListener("click",function(){clearTimeout(v),v=null,i.modalVisible=!0,i.focused=!0}),this.addStateListener("focused",function(e){e||(i.modalVisible=!1)}),this.removeState("value"),this.updatingValue=!1;if(this.setState("value",[255,255,255]),this.addStateListener("value",function(e){return i.updatingValue?void(i.updatingValue=!1):((!e||"array"!==jSh.type(e)||e.length<3)&&(e=[255,255,255]),e.forEach(function(t,n){3>n&&("number"!==jSh.type(t)||isNaN(t))&&(e[n]=255)}),void i.displayColor([e[0]/255,e[1]/255,e[2]/255]))}),this.displayColor=function(e){var t=lces.ui.RGB2HSV(e[0],e[1],e[2]);c.updatingSat=!0,c.value=100*t.s,d.updatingVal=!0,d.value=100*t.v,this.setCursor(t.h,t.s),s.style.background="rgb("+this.value.map(function(e){return Math.round(e)}).join(", ")+")",l.style.opacity=1-t.v},this.updateColorValue=function(){var e={};e.v=d.value/100,l.style.opacity=1-e.v;var t=f/2,n=o.offsetLeft-t+m/2,r=t-o.offsetTop-m/2,a=Math.sqrt(Math.pow(o.offsetLeft-t+m/2,2)+Math.pow(t-o.offsetTop-o.offsetHeight/2,2)),h=Math.atan2(r,n)/Math.PI*180;h=0>h?360+h:h,a>t?(this.setCursor(h,1),a=t):this.limitSaturation&&(this.setCursor(h,this.limitSaturation),a=this.limitSaturation*t),e.s=a/t,c.updatingSat=!0,c.value=100*e.s,e.h=h,i.updatingValue=!0;var u=lces.ui.HSV2RGB(e.h,e.s,e.v);this.value=[parseInt(255*u[0]),parseInt(255*u[1]),parseInt(255*u[2])],s.style.background="rgb("+this.value.map(function(e){return Math.round(e)}).join(", ")+")"},this.setCursor=function(e,t){var n=f/2;e=(e+90)/360*Math.PI*2;var i=Math.sin(e)*t*n+n-m/2,s=Math.cos(e)*t*n+n-m/2;o.style.left=i+"px",o.style.top=s+"px"},c.addStateListener("value",function(e){if(c.updatingSat)return void(c.updatingSat=!1);var t=lces.ui.RGB2HSV(i.value[0]/255,i.value[1]/255,i.value[2]/255);i.setCursor(t.h,e/100),i.updateColorValue()}),d.addStateListener("value",function(e){return d.updatingVal||d.updatingValue?void(d.updatingVal=!1):void i.updateColorValue()}),a.addEventListener("mousedown",function(e){function t(e){var t=a.getBoundingClientRect();e.preventDefault(),o.style.left=Math.round(e.clientX-t.left-m/2)+"px",o.style.top=Math.round(e.clientY-t.top-m/2)+"px",i.updateColorValue()}e.preventDefault(),t(e),window.addEventListener("mousemove",t),window.addEventListener("mouseup",function n(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)})}),this.addStateListener("disableValue",function(e){e?u.style.display="none":u.style.display="block"}),this.limitSaturation=null,this.addStateListener("disableSaturation",function(e){e?(i.limitSaturation=c.s,h.style.display="none"):i.limitSaturation=null,h.style.display="block"}),this.value=[255,255,255],r.style.display="none",this.classList.remove("visible"),e){var b=e.getAttribute("color");if(b&&/^\s*rgb\(\s*\d+,\s*\d+\s*,\s*\d+\s*\)\s*$/.test(b)){var y=b.match(/\d+/g);this.value=y.map(function(e){return parseInt(e)})}e.parentNode&&(e.parentNode.insertBefore(this.element,e),e.parentNode.removeChild(e))}},jSh.inherit(lcColorChooser,lcTextField),jSh.extendObj(lces.types,{colorchooser:lcColorChooser})},lces.rc[5]=function(){window.lcForm=function(e){lcWidget.call(this,e||jSh.c("form"))},jSh.inherit(lcForm,lcWidget),window.lcTextField=function(e,t){lcWidget.call(this,e?e:jSh.c("input",{properties:{type:t?t:"text"}}));var n=this;this.type="LCES TextField Widget",(this.element.type&&("text"===this.element.type||"password"===this.element.type||"hidden"===this.element.type)||"textarea"==this.element.tagName.toLowerCase())&&(this.classList.add("lces"),this.element.addEventListener("input",function(){n.text=this.value}),this.linkStates("text","value")),this.setState("focused",!1),lces.focus.addMember(this),this.focus=function(){"function"==typeof n.element.focus&&n.element.focus(),n.focused=!0},this.blur=function(){"function"==typeof n.element.blur&&n.element.blur(),n.focused=!1},this.wrap=undf},jSh.inherit(lcTextField,lcWidget),lces.ui.sliderTemplate=lces.template({render:jSh.dm(".lces-slider",undf,[jSh.dm("lces-slider-min","{#min}"),jSh.dm("lces-slider-max","{#max}"),jSh.dm("lces-slider-value","{#prefix}{#displayValue}{#suffix}"),jSh.dm("lces-slider-scrubbar",undf,[jSh.dm("lces-slider-scrubber")])])}),window.lcSlider=function(e){var t=lces.template.isChild(arguments,this);if(t)return t;lcTextField.call(this),this.type="LCES Slider Widget";var n=this;this.element=new lces.ui.sliderTemplate(this),this.element.component=this,document.body.appendChild(this.element);var i=this.jSh(".lces-slider-scrubbar")[0],s=this.jSh(".lces-slider-scrubber")[0],o=this.jSh(".lces-slider-value")[0],r=i.offsetWidth,a=s.offsetWidth;if(i.addEventListener("mousedown",function(e){e.preventDefault();var t=e.target||e.srcElement,o=function(e,t){var s=i.getBoundingClientRect();n.triggerEvent("scrubberX",{scrubberTriggered:!t,x:e.clientX-s.left-.5*a}),e.preventDefault()};o(e,!(t===s)),n.classList.add("scrubbing"),window.addEventListener("mousemove",o),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",o),n.classList.remove("scrubbing")})}),this.on("scrubberX",function(e){var t=r-a-2,i=e.x<0?0:e.x;i=i>t?t:i,e.valueTriggered?(n.states.value.oldStateStatus=n.value,n.states.value.stateStatus=n.min+(n.max-n.min)*(i/(r-a-2))):(n.updatingValue=!0,n.value=n.min+(n.max-n.min)*(i/(r-a-2))),n.displayValue=Math.round(100*n.value)/100,n.decimals||(n.displayValue=Math.round(n.displayValue)),e.scrubberTriggered?n.classList.remove("animated"):n.classList.add("animated"),i=0>i?0:i,s.style.left=i+"px"}),this.removeState("text","value"),this.addStateListener("value",function(e){return n.updatingValue?void(n.updatingValue=!1):void("number"==typeof e&&n.triggerEvent("scrubberX",{valueTriggered:!0,x:(r-a)*((e-n.min)/(n.max-n.min))}))}),this.addStateListener("hideValue",function(e){e?o.style.display="none":o.style.display="block"}),this.min=0,this.max=100,this.displayValue=0,this.decimals=!0,document.body.removeChild(this.element),e){var l=e.getAttribute("min"),c=e.getAttribute("max"),d=e.getAttribute("prefix"),h=e.getAttribute("suffix"),u=e.getAttribute("hide-value"),p=e.getAttribute("decimals");isNaN(parseFloat(l))||(this.min=parseFloat(l),this.displayValue=this.min),isNaN(parseFloat(c))||(this.max=parseFloat(c)),d&&(this.prefix=d),h&&(this.suffix=h),p&&"false"===p.toLowerCase()&&(this.decimals=!1),u&&"true"===u&&(this.hideValue=!0),e.parentNode&&(e.parentNode.insertBefore(this.element,e),e.parentNode.removeChild(e))}},jSh.inherit(lcSlider,lcTextField),window.lcFileInput=function(e){lcTextField.call(this,jSh.d("lces-file",undf,[jSh.d(undf,undf,jSh.d(undf,undf,jSh.d(undf,undf,jSh.d("lces-filetext")))),jSh.c("aside")]));var t=this,n=jSh.svg("cp-svg",17,20,[jSh.path(undf,"M0 0 0 20 17 20 17 5 12.5 5 12 5 12 4.5 12 0 0 0zm13 0 0 4 4 0-4-4zm-4.5 4 4.5 4.5-2.2 0 0 4.5-2.2 0-2.2 0 0-4.5L4 8.5 8.5 4zM4 15l9 0 0 1-9 0 0-1z","fill: #fff;")]),i=e||jSh.c("input",{properties:{type:"file"}});i.parentNode&&i.parentNode.insertBefore(this.element,i),this.element.appendChild(i),this.input=i,i.name||(i.name="file");var s=this.element.getChild(-2);s.appendChild(n);var o=this.element.getElementsByClassName("lces-filetext")[0];o.textContent="No file chosen",this.onchange=function(){if(0!==i.files.length)var e=1===i.files.length?i.files[0].name:"["+i.files.length+"] Files Selected";else var e="No file chosen";e=e.length>14?e.substr(0,12)+"...":e,o.textContent=e};var r=["change","input","focus","blur","click"];this.addEventListener;this.addEventListener=function(e,n){e=(e+"").toLowerCase(),-1!==r.indexOf(e)?t.input.addEventListener(e,n):t.addEventListener(e,n)},this.upload=function(e,n,i,s){var o=new lcForm;o.append(t.input),"array"===jSh.type(n)&&n.forEach(function(e){o.append(e)});var r=new FormData(o.element);"object"===jSh.type(n)&&Object.getOwnPropertyNames(n).forEach(function(e){r.set(e,n[e])});var a=new lcRequest({method:"POST",uri:e,formData:r,callback:function(){"function"==typeof s&&s.call(this)}});return a.xhr.upload&&"function"==typeof callback&&a.xhr.upload.addEventListener("progress",function(e){callback.call(this,e)}),a.send(),t.append(t.input),a},i.addEventListener("change",this.onchange)},jSh.inherit(lcFileInput,lcTextField),window.lcTextArea=function(e){lcTextField.call(this,e?e:jSh.c("textarea","lces"));var t=this;this.type="LCES TextArea Widget",this.removeState("text","value"),this.setState("value"),this.hardLinkStates("text","value"),this.addStateListener("text",function(e){t.element.value=e}),this.states.text.get=function(){return t.element.value},this.select=function(){this.element.select()}},jSh.inherit(lcTextArea,lcTextField),window.acceptableKeyCodes={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",37:"left_arrow",38:"up_arrow",39:"right_arrow",40:"down_arrow",46:"delete",8:"backspace",13:"enter",16:"shift",17:"ctrl",18:"alt",35:"end",36:"home",96:"numpad_0",97:"numpad_1",98:"numpad_2",99:"numpad_3",100:"numpad_4",101:"numpad_5",102:"numpad_6",103:"numpad_7",104:"numpad_8",105:"numpad_9",109:"subtract",110:"decimal_point",190:"period",189:"dash"},window.lcNumberField=function(e){function t(){this.classList.remove("active")}lcTextField.call(this,e?e:jSh.c("input",{properties:{type:"text"}}));var n=this;this.type="LCES NumberField Widget",this.oldValue=this.text,this.style.minWidth="0px",this.classList.add("lces-numberfield"),this.container=jSh.c("span","numberfield-container"),this.parent&&this.parent.insertBefore(this.container,this.element),this.container.appendChild(this.element),this.setState("min",-5),this.setState("max",100),this.setState("integer",!1),this.setState("digits",0),this.setState("decimalPoints",0);var i=jSh.c("span",undf,"X",undf,{style:"font-size: 15px; font-weight: bold;"});document.body.appendChild(i),this._charWidth=i.offsetWidth,document.body.removeChild(i),this.addStateListener("digits",function(e){var t=0===n.digits?15:n.digits,i=0===n.decimalPoints?15:n.decimalPoints;n.style.width=((n.integer?0:i+1)+t)*n._charWidth+"px",n.testInt=new RegExp("^\\-?\\d{0,"+n.digits+"}$"),n.testFloat=new RegExp("^\\-?\\d{0,"+n.digits+"}(?:\\.\\d{0,"+n.decimalPoints+"})?$")}),this.addStateListener("decimalPoints",this.states.digits.functions[0]),this.addStateListener("integer",this.states.digits.functions[0]),this.testInt=new RegExp("^\\d{0,"+this.digits+"}$"),this.testFloat=new RegExp("^\\d{0,"+this.digits+"}(?:\\.\\d{0,"+this.decimalPoints+"})?$"),this.testInput=function(){n.integer&&!n.testInt.test(this.value)||!n.integer&&!n.testFloat.exec(this.value)?this.value=n.oldValue:"number"==jSh.type(n.min)&&parseFloat(this.value)<n.min?this.value=n.min:"number"==jSh.type(n.max)&&parseFloat(this.value)>n.max?this.value=n.max:n.oldValue=this.value},this.addEventListener("change",this.testInput),this.increment=function(){n.states.value.stateStatus=parseInt(n.element.value)+1,n.testInput.call(n.element)},this.decrement=function(){n.states.value.stateStatus=parseInt(n.element.value)-1,n.testInput.call(n.element)},this.addEventListener("keydown",function(e){return acceptableKeyCodes[e.keyCode.toString()]===undf?e.preventDefault():(38==e.keyCode&&n.increment(),40==e.keyCode&&n.decrement(),!0)}),isNaN(parseInt(this.element.getAttribute("lces-digits")))?this.digits=5:this.digits=parseInt(this.element.getAttribute("lces-digits")),isNaN(parseInt(this.element.getAttribute("lces-decimal-points")))?this.decimalPoints=5:this.decimalPoints=parseInt(this.element.getAttribute("lces-decimal-points")),!this.element.getAttribute("lces-integers")||"true"!==this.element.getAttribute("lces-integers").toLowerCase()&&"false"!==this.element.getAttribute("lces-integers").toLowerCase()?this.integer=!0:this.integer="true"===this.element.getAttribute("lces-integers").toLowerCase(),isNaN(parseFloat(this.element.getAttribute("lces-max")))?this.max=null:this.max=parseFloat(this.element.getAttribute("lces-max")),isNaN(parseFloat(this.element.getAttribute("lces-min")))?this.min=null:this.min=parseFloat(this.element.getAttribute("lces-min"));var s=jSh.d("arrow");s.classList.add("top");var o=jSh.d("arrow");o.classList.add("bottom"),this.container.appendChild(s,o),s.appendChild(jSh.svg("numberfielduparrow",6.8,3.4,[jSh.path(undf,"m0 3.4 6.8 0L3.4 0z","fill: #fff;")])),o.appendChild(jSh.svg("numberfieldbottomarrow",6.8,3.4,[jSh.path(undf,"M0 0 6.8 0 3.4 3.4z","fill: #fff;")])),s.addEventListener("mousedown",function(e){this.classList.add("active"),e.preventDefault(),n.increment()}),o.addEventListener("mousedown",function(e){this.classList.add("active"),e.preventDefault(),n.decrement()}),s.addEventListener("mouseup",t),o.addEventListener("mouseup",t)},jSh.inherit(lcNumberField,lcTextField),window.lcRadioButton=function(e){lcWidget.call(this,jSh.d("lcesradio"));var t=this;this.type="LCES RadioButton Widget";var n=jSh(".radiobuttonsvg")[0].cloneNode(!0);this.appendChild(n),e.parentNode.insertBefore(this.element,e),e.style.display="none",this.setState("focused",!1),lces.focus.addMember(this),this.setState("checked",!1),this.value=e.value,this.addStateListener("checked",function(e){t.element[e?"setAttribute":"removeAttribute"]("checked","")}),this.addStateListener("focused",function(e){e&&(t.checked=!0,t.group.value=t.value)}),this.addEventListener("mousedown",function(e){e.preventDefault()})},jSh.inherit(lcRadioButton,lcWidget),window.lcRadioButtons=function(e){function t(e){this.radio.checked=!0,e.preventDefault()}lcGroup.call(this);var n=this;this.type="LCES RadioGroup Widget",this.setState("value",""),this.radioButtons={},this.addStateListener("value",function(e){n.radioButtons[e]&&(n.radioButtons[e].checked=!0)}),"array"!=jSh.type(e)&&(e=jSh.toArr(e)),this.setState("checked",!1),this.setExclusiveState("checked",!0,1);for(var i=LCESLoopLabels(),s=0,o=e.length;o>s;s++){var r=new lcRadioButton(e[s]);r.group=this,this.radioButtons[e[s].value]=r,this.addMember(r),e[s].checked&&(r.checked=!0),e[s].component=r,e[s].id&&i[e[s].id]&&(i[e[s].id].radio=r,i[e[s].id].addEventListener("mousedown",t),i[e[s].id].component=r)}},jSh.inherit(lcRadioButtons,lcGroup),lces.ui.CheckBoxSVG=jSh.svgm(".checkboxsvg",14,13,[jSh.pathm(".checkboxcolor","M2.6 1 10.4 1C11.3 1 12 1.7 12 2.6l0 7.9C12 11.3 11.3 12 10.4 12L2.6 12C1.7 12 1 11.3 1 10.4L1 2.6C1 1.7 1.7 1 2.6 1z"),jSh.pathm(undf,"m2.6 2.3 7.7 0C10.6 2.3 10.8 2.4 10.8 2.6l0 7.7C10.8 10.6 10.6 10.8 10.4 10.8l-7.7 0C2.4 10.8 2.3 10.6 2.3 10.4l0-7.7C2.3 2.4 2.4 2.3 2.6 2.3z","fill: #fff;"),jSh.pathm(".checkboxcolor","M11.5 2.5 11 3.1 5.9 8.2 4.3 6.6 3.8 6.1 2.7 7.1 3.2 7.7 5.3 9.8 5.9 10.3 6.4 9.8 12.1 4.1 12.6 3.6 11.5 2.5z")]),window.lcCheckBox=function(e){var t=lces.template.isChild(arguments,this);if(t)return t;lcTextField.call(this,jSh.d("lcescheckbox"));var n=this;this.type="LCES CheckBox Widget",e?(e.style.display="none",e.parentNode.insertBefore(this.element,e)):e={checked:!1};var i=lces.ui.CheckBoxSVG.conceive(!0);if(this.appendChild(i),this.setState("checked",!1),this.addStateListener("checked",function(e){e?n.element.setAttribute("checked",""):n.element.removeAttribute("checked")}),this.setState("checked",e.checked),this.addEventListener("mousedown",function(e){n.checked=!n.checked,e.preventDefault()}),this.removeAllStateListeners("focused"),this.setState("label",null),this.addStateListener("label",function(e){function t(e){n.checked=!n.checked,n.focused=!0,e.preventDefault()}e&&"label"===(e.tagName+"").toLowerCase()&&(e.addEventListener("mousedown",t),e.component=n)}),e&&e.id){e.component=this;var s=LCESLoopLabels();s[e.id]&&(this.label=s[e.id])}},jSh.inherit(lcCheckBox,lcTextField),window.lcDropDownOption=function(e,t,n){var i=this;lcWidget.call(this,jSh.d(".lcesoption")),this.type="LCES Option Widget",this.value=e,"array"===jSh.type(t)?this.append(t):this.append(this._determineType(t)),this.setState("selected",!1),this.addStateListener("selected",function(e){e?i.element.setAttribute("lces-selected",""):i.element.removeAttribute("lces-selected")}),this.addEventListener("click",function(){n.selectedOption=i,n.menuvisible=!1})},jSh.inherit(lcDropDownOption,lcWidget),window.lcDropDown=function(e){function t(){n()}function n(){var e=i.optionsContainer.style.display;i.optionsContainer.style.display="inline-block";var t=i.optionsContainer.element.offsetHeight,n=innerHeight-i.element.getBoundingClientRect().bottom;i.optionsContainer.style.display=e,t>n?i.flipped=!0:i.flipped=!1}var i=this;lcTextField.call(this,jSh.d(".lcesdropdown",undf,[jSh.d(".lcesdropdown-arrow",undf,[jSh.svg(undf,10,5,[jSh.path(undf,"m0 0 10 0-5 5z","fill: #fff;")])])])),this.type="LCES DropDown Widget",this.options=[],this.setState("selectedOption",!1),e&&(this.selectElement=e),this.selectedDisplay=new lcWidget(jSh.d("lcesselected")),this.optionsContainer=new lcWidget(jSh.d("lcesoptions")),this.appendChild(this.selectedDisplay),this.optionsContainer.parent=this;var s=0,o=jSh.ph();if(this.updateDropdownSize=function(){s=0,o.substitute(this),document.body.appendChild(this.element),this.selectedDisplay.style={width:"auto"};var e=this.selectedDisplay.html;this.options.forEach(function(e){i.selectedDisplay.html=e[1];var t=parseInt(getComputedStyle(i.selectedDisplay.element).width);t>s&&(s=t)}),this.selectedDisplay.style={width:s+3+"px"},this.selectedDisplay.html=e,o.replace(this)},this.setState("value",null),this.addStateListener("value",function(t){t+="";var n=null;i.options.forEach(function(e){e[0].substr(0,e[0].length-2)===t&&(n=e[2])}),i.selectedOption=n,e.value=t}),this.addStateListener("selectedOption",function(e){return null===e?(i.selectedDisplay.html="&nbsp;",!1):(i.selectedDisplay.html=e.html,i.value=e.value,void(e.selected=!0))}),this.addStateCondition("selectedOption",function(e,t){return t?!1:(this.get()&&(this.get().selected=!1),!0)}),this.addEventListener("mousedown",function(e){e.preventDefault()}),this.addEventListener("click",function(e){var t=e.target||e.srcElement;(t==i.selectedDisplay.element||t==i.element||jSh.isDescendant(t,i.selectedDisplay.element))&&(i.menuvisible=!i.menuvisible)}),this.removeAllStateListeners("focused"),this.addStateListener("focused",function(e){this.component.menuvisible=e}),onTransitionEnd(i.optionsContainer,function(e){if("opacity"==e.propertyName){var t=getComputedStyle(this).opacity;0==t&&(i.optionsContainer.style.display="none")}}),this.setState("menuvisible",!1),this.addStateListener("menuvisible",function(e){e?(n(),window.addEventListener("scroll",t),i.optionsContainer.style.display="inline-block",i.classList.add("visible")):(window.removeEventListener("scroll",t),i.classList.remove("visible"))}),this.setState("flipped",!1),this.addStateListener("flipped",function(e){i.classList[e?"add":"remove"]("flipped")}),this.addOption=function(e,t){var n=new lcDropDownOption(e,t,this);return this.options.push([e+"op",n.html,n]),this.options[e+"op"]=n,n.parent=this.optionsContainer,this.updateDropdownSize(),n},this.removeOption=function(e){var t="number"==typeof e?e:undf,n="string"==typeof e?e:undf,s=t===undf&&n===undf?this._determineType(e):undf,o=[];t!==undf?o.push([this.options[t],t]):this.options.forEach(function(e,t){n!==undf?n.toLowerCase()==e[0]&&o.push([e,t]):s&&s.component===e[2]&&o.push([e,t])}),o.forEach(function(e){e[0]&&(i.options.splice(e[1],1),i.optionsContainer.remove(e[0][2]),i.selectedOption===e[0][2]&&(i.selectedOption=i.options[0][2]))}),this.updateDropdownSize()},this.removeAllOptions=function(){i.options=[],i.optionsContainer.remove(i.optionsContainer.children),i.value=null},e){e.parentNode&&e.parentNode.insertBefore(this.element,this.selectElement);var r=null;if("select"===e.tagName.toLowerCase()){var a=jSh(e).jSh("option");a.forEach(function(t,n){var s=i.addOption(t.value,jSh.toArr(t.childNodes));(t.value==e.value||0===n)&&(r=s)})}else if("lces-widget"===e.tagName.toLowerCase()){var a=jSh(e).jSh("lces-option");a.forEach(function(e,t){var n=e.getAttribute("value"),s=null!==e.getAttribute("selected")&&"false"!==e.getAttribute("selected"),o=n||"value"+i.options.length,a=i.addOption(o,jSh.toArr(e.childNodes));(s||0===t)&&(r=a)})}this.selectedOption=r,e.style.display="none"}var l=this.selectedOption;this.value=void 0,this.value=l?l.value:""},jSh.inherit(lcDropDown,lcTextField),window.lcTHead=function(){lcWidget.call(this,jSh.c("thead"))},window.lcTBody=function(){lcWidget.call(this,jSh.c("tbody"))},window.lcTHeading=function(e){lcWidget.call(this,e||jSh.c("th"))},window.lcTRow=function(e){lcWidget.call(this,e||jSh.c("tr"))},window.lcTCol=function(e){lcWidget.call(this,e||jSh.c("td"))},jSh.inherit(lcTHead,lcWidget),jSh.inherit(lcTBody,lcWidget),jSh.inherit(lcTHeading,lcWidget),jSh.inherit(lcTRow,lcWidget),jSh.inherit(lcTCol,lcWidget),window.lcTable=function(e){lcWidget.call(this,e||jSh.c("table","lces"));var t=this;this.thead=new lcTHead,this.tbody=new lcTBody,this.thead.parent=this,this.tbody.parent=this,this.rows=[],this.headings=[],this._addItem=function(e,t,n){var i=this._determineType(e);t.appendChild(i),n.push(e)},this.addRow=function(e,n){var i=new lcTRow;return e.forEach(function(e){i.appendChild(new lcTCol(jSh.c("td",undf,undf,t._determineType(e))))}),i.cols=i.children,n||this._addItem(i,this.tbody,this.rows),this._checker(),i},this.insertBefore=void 0,this.insertBeforeRow=function(e,t){var n=this.addRow(e,!0);if("number"==typeof t)var i=this.rows[t];else var i=this._determineType(t).component;if(!i)throw TypeError("Row "+t+" is invalid");if(-1===this.rows.indexOf(i))throw ReferenceError("Row "+t+" isn't a descendant");return this.tbody.element.insertBefore(n.element,i.element),this.rows.splice(this.rows.indexOf(t),0,n),this._checker(),n},this.removeRow=function(e){
if("number"==typeof e){var t=this.rows[e];if(!t)throw ReferenceError("Out of bounds index for row")}else{var t=this._determineType(e).component;if(!t)throw TypeError("Row "+t+" is invalid");if(-1===this.rows.indexOf(t))throw ReferenceError("Row "+t+" isn't a descendant")}this.rows.splice(this.rows.indexOf(t),1),this.tbody.removeChild(t.element),this._checker()},this.setHeadings=function(e){this.headings.forEach(function(e){t.removeHeading(e)});var n=[];return e.forEach(function(e){n.push(t.addHeading(e))}),n},this.addHeading=function(e){var t=new lcTHeading;return t.appendChild(this._determineType(e)),this._addItem(t,this.thead,this.headings),t},this.removeHeading=function(e){if(e="number"==typeof e?this.headings[e]:this._determineType(e).component){var t=this.headings.indexOf(e);-1!==t&&this.headings.splice(t,1),this.thead.removeChild(e.element)}},this.removeAllHeadings=function(){for(this.headings=[];this.thead.getChild(0);)this.thead.removeChild(this.thead.getChild(0))},this.removeAllRows=function(){for(this.rows=[];this.tbody.getChild(0);)this.tbody.removeChild(this.tbody.getChild(0))},this.addStateListener("width",function(e){t.element.width=e}),this.states.width.get=function(){return t.element.width},this.addStateListener("height",function(e){t.element.height=e}),this.states.height.get=function(){return t.element.height},this._checker=function(){var e=0;this.tbody.children.forEach(function(t,n){return t.skipChecker?void(e+=1):void((n-e)%2===0?t.removeAttribute("checker"):t.setAttribute("checker",""))})}},jSh.inherit(lcTable,lcWidget),window.lcAccordionSection=function(e,t,n,i){lcWidget.call(this,jSh.d("lces-acc-section",undf,[jSh.d("lces-acc-title"),jSh.d("lces-acc-contents")]));var s=this,o=this.element.getChild(0),r=this.element.getChild(1);if(this.contents=r,this.contents.appendChild(jSh.d()),o.appendChild(jSh.d("lces-acc-arrow",undf,jSh.svg(undf,15,15,[jSh.path(undf,"M3.8 1.9L3.8 7.5 3.8 13.1 7.5 10.3 11.3 7.5 7.5 4.7 3.8 1.9z")]))),e?(e="string"==typeof e?jSh.t(e):e,o.appendChild(e)):o.appendChild(jSh.c("span",undf,ih("&nbsp;"))),t&&(t="string"==typeof t?jSh.t(t):t,r.getChild(0).appendChild(t)),this.setState("open",!1),this.addStateListener("open",function(e){e?(s.classList.add("lces-acc-open"),s.contents.style.height=(s.accordion.sectionHeight||s.height)+"px"):(s.classList.remove("lces-acc-open"),s.contents.style.height="0px")}),o.addEventListener("click",function(){s.open&&s.accordion.sectionsCloseable?s.open=!1:s.open=!0,"function"==typeof n&&n()}),i){var a=(i.getAttribute("open")+"").toLowerCase();this._initCallback=function(){a&&(this.open=!0)}}},window.lcAccordion=function(e){lcWidget.call(this,jSh.d("lces-accordion"));var t=this;this.sectionHeight=250,this.sectionsCloseable=!1,this.sectionsGroup=new lcGroup,this.sectionsGroup.setState("open",!0),this.sectionsGroup.setExclusiveState("open",!0,1);var n=[];if(this.addSection=function(e,t,i,s){var o=new lcAccordionSection(e,t,i,s);"function"==typeof o._initCallback&&n.push(o._initCallback.bind(o)),this.sectionsGroup.addMember(o),this.appendChild(o),o.accordion=this},this.removeSection=function(e){return(e=this.determineSection(e))?(this.sectionsGroup.removeMember(e),void this.removeChild(e)):null},this.removeAllSections=function(){for(;this.getSection(0);)this.removeSection(0)},this.getSection=function(e){return this.sectionsGroup.members[e]},this.determineSection=function(e){return e instanceof lcAccordionSection?e:"number"==typeof e?t.sectionsGroup.members[e]:e instanceof Node&&e.component instanceof lcAccordion?e.component:null},t.setState("maxOpen",1),t.addStateListener("maxOpen",function(e){t.sectionsGroup.exclusiveMembers.open.memberLimit=!isNaN(e)&&parseInt(e)>=1?parseInt(e):1}),e){e.parentNode&&e.parentNode.insertBefore(this.element,e),!isNaN(e.getAttribute("section-height"))&&parseInt(e.getAttribute("section-height"))>50&&(this.sectionHeight=parseInt(e.getAttribute("section-height"))),!isNaN(e.getAttribute("max-open"))&&parseInt(e.getAttribute("max-open"))>=1&&(this.maxOpen=parseInt(e.getAttribute("max-open"))),null!==e.getAttribute("closeable")&&(this.sectionsCloseable=!0);var i=e.jSh("lces-section");i.forEach(function(e){var n=e.jSh("lces-title")[0];n&&e.removeChild(n),t.addSection(n&&n.childNodes[0]?jSh.toArr(n.childNodes):null,jSh.toArr(e.childNodes),null,e)}),e.parentNode.removeChild(e)}n.forEach(function(e){e()})},jSh.inherit(lcAccordion,lcWidget),jSh.inherit(lcAccordionSection,lcWidget),jSh.extendObj(lces.types,{dropdown:lcDropDown,checkbox:lcCheckBox,textfield:lcTextField,textarea:lcTextArea,slider:lcSlider,numberfield:lcNumberField,fileinput:lcFileInput,accordion:lcAccordion})},lces.rc[7]=function(){lces.ui.Windows=[],window.lcWindow=function(e,t){lcWidget.call(this,e?e.getElementsByClassName("lces-window-contents")[0]:jSh.d("lces-window-contents"));var n=this;if(this.windowID=lces.ui.Windows.length,lces.ui.Windows.push(this),this.buttons=[],this.borderOffset=20,jSh("#windowcontainer")||document.body.appendChild(jSh.d("#windowcontainer.lces-themify")),e){e=jSh(e);var i=e.getAttribute("class"),s=e.getAttribute("id"),o=e.jSh("lces-title")[0],r=e.jSh("lces-contents")[0],a=e.jSh("lces-buttons")[0];r&&jSh.toArr(r.childNodes).forEach(function(e){n.element.appendChild(e)}),a&&(this.buttons=a.jSh("button")),this.container=jSh.d("lces-window",undf,jSh.d(undf,undf,jSh.d(undf,undf,[jSh.d("lces-window-title",(o?" ":null)||t||"Window "+this.windowID,o?jSh.toArr(o.childNodes):undf),this.element,jSh.d("lces-window-buttonpanel",undf,a?jSh.toArr(a.childNodes):undf)]))),jSh("#windowcontainer").appendChild(this.container),e.parentNode.removeChild(e),i&&(i=i.split(" "),i.forEach(function(e){n.container.classList.add(e)})),s&&(this.container.id=s)}else this.container=jSh.d("lces-window",undf,jSh.d(undf,undf,jSh.d(undf,undf,[jSh.d("lces-window-title",t||"Window "+this.windowID),this.element,jSh.d("lces-window-buttonpanel")]))),jSh("#windowcontainer").appendChild(this.container);this.classList.add("lces-window-contents"),this._title=this.container.getElementsByClassName("lces-window-title")[0],this._buttonpanel=this.container.getElementsByClassName("lces-window-buttonpanel")[0],this.setState("title",t||"Window "+this.windowID),this.addStateListener("title",function(e){n._title.innerHTML=e}),this.setState("titleVisible",!0),this.addStateListener("titleVisible",function(e){n._title.style.display=e?"block":"none",e?n.container.classList.add("lces-window-titlevisible"):n.container.classList.remove("lces-window-titlevisible")}),this.setState("buttonPanelVisible",!0),this.addStateListener("buttonPanelVisible",function(e){n._buttonpanel.style.display=e?"block":"none",e?n.container.classList.add("lces-window-buttonsvisible"):n.container.classList.remove("lces-window-buttonsvisible")}),this.container.classList.add("lces-window-titlevisible"),this.container.classList.add("lces-window-buttonsvisible"),this.addButton=function(e,t){var n=new lcWidget(jSh.c("button",undf,e));return"function"==typeof t&&n.addEventListener("click",t),this.buttons.push(n),this._buttonpanel.appendChild(n.element),n},this.removeButton=function(e){return-1===this.buttons.indexOf(e)?!1:(this.buttons.splice(this.buttons.indexOf(e),1),void this._buttonpanel.removeChild(e.element))},lcDraggable.call(this,this.container.getChild(0).getChild(0).getChild(0),this.container),this._closingTimeout=null;this.container;if(this.setState("visible",!1),this.addStateListener("visible",function(e){var t=n.container;e?(n._closingTimeout!==undf&&clearTimeout(n._closingTimeout),t.removeAttribute("window-invisible"),t.setAttribute("visible","")):(t.removeAttribute("visible"),n._closingTimeout!==undf&&(n._closingTimeout=setTimeout(function(){t.setAttribute("window-invisible","")},420)))}),this.container.component=this,this.visible=!0,this.onWinResize=function(){n.update()},this.update=function(){this.centered&&this._center()},this._center=function(){this.container.style.left=(innerWidth-this.container.offsetWidth)/2+"px";var e=(innerHeight-this.container.offsetHeight)/2;e=e<this.borderOffset?this.borderOffset:e,this.container.style.top=e+"px"},this.setState("centered",!1),this.addStateListener("centered",function(e){e?(n.update(),window.addEventListener("resize",n.onWinResize)):window.removeEventListener("resize",n.onWinResize)}),this.setState("width",1),this.addStateListener("width",function(e){e=e?parseInt(e):e,!e||isNaN(e)||0>e?(n.style.width="auto",this.stateStatus="auto"):(n.style.width=e+"px",this.stateStatus=e)}),this.setState("height",1),this.addStateListener("height",function(e){e=e?parseInt(e):e,!e||isNaN(e)||0>e?(n.style={height:"auto",overflow:"initial"},this.stateStatus="auto"):(n.style.height=e+"px",n.style.overflow="auto",this.stateStatus=e)}),this.width=null,this.height=null,e){var l=((e.getAttribute("lces-visible")||e.getAttribute("visible"))+"").toLowerCase(),c=(e.getAttribute("title-visible")+"").toLowerCase(),d=(e.getAttribute("buttonpanel-visible")+"").toLowerCase(),h=e.getAttribute("centered"),u=e.getAttribute("draggable"),p=e.getAttribute("width"),f=e.getAttribute("height");!l||"false"!=l&&"true"!=l?(this.visible=!1,this.container.setAttribute("window-invisible","")):(this.visible="true"==l,this.visible?n.container.setAttribute("visible",""):this.container.setAttribute("window-invisible","")),null!==u&&(this.draggable=!0),null!==p&&(this.width=e.getAttribute("width")),null!==f&&(this.height=e.getAttribute("height")),"false"===c&&(this.titleVisible=!1),"false"===d&&(this.buttonPanelVisible=!1),null!==h&&(this.centered=!0)}else this.visible=!1,this.container.setAttribute("window-invisible","")},jSh.inherit(lcWindow,lcWidget),window.lcNotification=function(e,t,n,i,s){function o(e){if("string"===jSh.type(e))this.setState("message",jSh.d(undf,e));else if(e instanceof Node)this.setState("message",e);else if("array"===jSh.type(e)){var t=jSh.d();e.forEach(function(e){t.appendChild(e)}),this.setState("message",t)}else this.setState("message",jSh.d(undf,e?e.toString():e))}lcWindow.call(this);var r=this;this.dynTextTrigger="text",lcDynamicText.call(this),this.on("dynpropchange",function(){r._updateNotifiHeight&&r._updateNotifiHeight()}),this.container.classList.add("lces-notification"),this.buttonPanelVisible=!1,this.titleVisible=!1,this.style={padding:"10px 15px",color:"#545454",textAlign:"left",fontSize:"14px"};var o=o.bind(this);o(e),this.appendChild(this.message),"string"===jSh.type(e)&&(this.text=e),"object"===jSh.type(t)&&(n=("string"==typeof t.align?t.align:"BL").toUpperCase(),c="function"==typeof t.onClick?t.onClick:null,t="number"==typeof t.delay||null===t.delay?t.delay:1e3),this.delay=t;var a=/(?:^|[^])+([TBM])(?:[^]|$)+/i;this.ypos=a.test(n)?n.replace(a,"$1"):"B";var l=/(?:^|[^])+([LRC])(?:[^]|$)+/i;this.xpos=l.test(n)?n.replace(l,"$1"):"L",this.relAnchor=i,this.relativeAlignment=null,this.relOffsetFactor=null,this.relAlignFixed=null;var c,d=/^R[TRBL](\d+(?:\.\d+)?)?$/i,h=/^R([TRBL])(?:\d+(?:\.\d+)?)?$/i;d.test(n)?(this.relAnchor instanceof Node&&(this.relativeAlignment=n.replace(h,"$1")?n.replace(h,"$1"):"B",this.relOffsetFactor=!n.replace(d,"$1")||isNaN(n.replace(d,"$1"))?.5:parseFloat(n.replace(d,"$1")),this.xpos="R",this.ypos="R",this.relAlignFixed=this.checkRelFixed(this.relAnchor),this.container.style.position=this.relAlignFixed?"fixed":"absolute",this.notifiWidth=this.container.offsetWidth,this.notifiHeight=this.container.offsetHeight),c=s):c=i,c&&(this.addEventListener("click",function(){c&&"function"==typeof c&&c()}),this.container.style.cursor="pointer"),onTransitionEnd(this.container,function(e){"opacity"===e.propertyName&&0==getComputedStyle(this).opacity&&this.parentNode.removeChild(this)}),clearTimeout(this._closingTimeout),this._closingTimeout=undf,this.removeState("visible"),this.setState("visible");var u=(this.container,window.lces);this._visibleTimeout=null,this._visibleAnim=null,this.addStateListener("visible",function(e){clearTimeout(r._closingTimeout);var t=r.container,n=u.ui;if(e)t.removeAttribute("window-invisible"),clearTimeout(r._visibleTimeout),n.notifications.alignments[r.ypos][r.xpos].add(r),r.relativeAlignment&&r.updateRelPosition(),r._visibleAnim=setTimeout(function(){t.setAttribute("visible",""),t.getChild(0).style.height=r.renderedHeight},0),r.delay&&(r._visibleTimeout=setTimeout(function(){r.visible=!1},r.delay));else{t.removeAttribute("visible"),clearTimeout(r._visibleTimeout),clearTimeout(r._visibleAnim),0==getComputedStyle(r.container).opacity&&t.parentNode&&t.parentNode.removeChild(t);var i=t.getChild(0);i.style.height=r.renderedHeight,i.style.height="1px"}}),this.toggle=function(){this.visible=!this.visible},u.ui.notifications.addMember(this),this._ph=jSh.ph().component,this._updateNotifiHeight=function(){this.container.parentNode&&this._ph.substitute(this.container),document.body.appendChild(this.container);getComputedStyle(this.container);this.container.style.display="block",this.container.getChild(0).style.height="auto",this.renderedHeight=getComputedStyle(this.container.getChild(0)).height,document.body.removeChild(this.container),this._ph.substituting&&this._ph.replace(this.container)},this._updateNotifiHeight(),this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.visible=!1},jSh.inherit(lcNotification,lcWindow),jSh.extendObj(lcNotification.prototype,{relativeOffset:20,relAlignments:{T:function(e,t,n,i,s){return[e*(i-t),-(n+this.relativeOffset)]},B:function(e,t,n,i,s){return[e*(i-t),s+this.relativeOffset]},R:function(e,t,n,i,s){return[i+this.relativeOffset,e*(s-n)]},L:function(e,t,n,i,s){return[-(t+this.relativeOffset),e*(s-n)]}},checkRelFixed:function(e){for(var t=!1,n=e;n!==document.body;)"fixed"===getComputedStyle(n).position.toLowerCase()&&(t=!0),n=n.parentNode;return t},updateRelPosition:function(){var e=this.relAnchor.getBoundingClientRect(),t=e.right-e.left,n=e.bottom-e.top,i=this.notifiWidth,s=this.notifiHeight,o=e.left+(this.relAlignFixed?0:scrollX),r=e.top+(this.relAlignFixed?0:scrollY),a=this.relAlignments[this.relativeAlignment].call(this,this.relOffsetFactor,i,s,t,n);this.container.style.left=o+a[0]+"px",this.container.style.top=r+a[1]+"px"}}),window.lcNotifications=function(){lcGroup.call(this);var e=function(e){this.appendChild(e.container)},t=function(e){var t=this.getChild(0);t&&t!==e.container?this.insertBefore(e.container,t):this.appendChild(e.container)};this.alignments={T:{L:jSh.d({"class":"notification-alignment notifi-left notifi-top lces-themify",properties:{add:e}}),C:jSh.d({"class":"notification-alignment notifi-center notifi-top lces-themify",properties:{add:e}}),R:jSh.d({"class":"notification-alignment notifi-right notifi-top lces-themify",properties:{add:e}})},M:{L:jSh.d({"class":"notification-alignment notifi-left notifi-middle lces-themify",properties:{add:t}}),C:jSh.d({"class":"notification-alignment notifi-center notifi-middle lces-themify",properties:{add:t}}),R:jSh.d({"class":"notification-alignment notifi-right notifi-middle lces-themify",properties:{add:t}})},B:{L:jSh.d({"class":"notification-alignment notifi-left notifi-bottom lces-themify",properties:{add:t}}),C:jSh.d({"class":"notification-alignment notifi-center notifi-bottom lces-themify",properties:{add:t}}),R:jSh.d({"class":"notification-alignment notifi-right notifi-bottom lces-themify",properties:{add:t}})},R:jSh.d({"class":"notification-alignment notifi-relative lces-themify",properties:{add:e}})};var n=document.body;[this.alignments.T,this.alignments.B,this.alignments.M].forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){e[t]&&n.appendChild(e[t])})}),n.appendChild(this.alignments.R),this.alignments.R.R=this.alignments.R,this.addStateListener("newmember",function(e){if(!(e instanceof lcNotification))throw TypeError("Notification provided does not implement interface lcNotification")})},jSh.inherit(lcNotifications,lcGroup),jSh.extendObj(lces.types,{window:lcWindow,notification:lcNotification}),lces.ui.initNotifications=function(){lces.ui.notifications=new lcNotifications},lces.addInit(lces.ui.initNotifications)},lces.rc[8]=function(){lces.ui.tagEditor={},window.lcGenreGroup=function(e){lcGroup.call(this);var t=this;this.element=e,this.addStateListener("parent",function(t){t instanceof Node&&t.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}),this.genreEdit=null,this.genreList=null,this.genreArray=null,this.setState("string",""),this.states.string.get=function(){var e=t.genreEdit.element.getChild(0),n=jSh.toArr(e.childNodes).map(function(e){return e.nodeType===Node.ELEMENT_NODE&&e.component?e.component.value:""}).filter(function(e){return""!=e}),i=n.join(", ");return n.length?i:""},this.addStateListener("string",function(e){var n=t.genreList.element.getChild(-1),i=t.genreEdit.element.getChild(0);if(t.genreArray.forEach(function(e){n.appendChild(e),e.component.genreToggled=!1}),!e||""===e.trim())return void(t.genreEdit.noGenres=!0);var s=e.toLowerCase().split(/\s*,\s*/g);s.length>=1&&t.genreEdit.noGenres&&(i.innerHTML="",t.genreEdit.noGenres=!1);var o=0;s.forEach(function(e){t.genreArray[e+"genre"]&&(i.appendChild(t.genreArray[e+"genre"]),t.genreArray[e+"genre"].component.genreToggled=!0,o+=1)}),o||(t.genreEdit.noGenres=!0)}),this.onchange=function(){},this._onchange=function(e){return e?!1:void("function"==typeof this.onchange&&this.onchange())}},jSh.inherit(lcGenreGroup,lcGroup),window.lcGenreField=function(e){function t(e){this.style.opacity="0.5",m=this,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","<span>genredroppinglikeaboss</span>"),setTimeout(function(){u.element.setAttribute("dragging","")},100)}function n(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function i(e){if(m===this.genre||this.genre.component||this===b){if(m!==this.genre){if(this===b&&m.component.genreToggled)return this.genre.setAttribute("dragover","")?!0:!0;if(this!==b&&this.genre.component.genreToggled)return this.genre.setAttribute("dragover","")?!0:!0}}else this.genre.setAttribute("dragover","")}function s(e){this.genre.removeAttribute("dragover")}function o(e){function t(){this!==b?(this===v?g.appendChild(m):g.insertBefore(m,this.genre),m.component.genreToggled=!0):(p.element.getChild(-1).appendChild(m),m.component.genreToggled=!1)}if(e.stopPropagation&&e.stopPropagation(),m!==this.genre&&"<span>genredroppinglikeaboss</span>"==e.dataTransfer.getData("text/html")&&m!==this.genre){if(this===b&&m.component.genreToggled)return t.call(this)+p.sort()+f.element.focus()?!0:!0;if(this!==b&&(this===v||this.genre.component.genreToggled))return t.call(this),lces.ui.mobile||f.element.focus(),!0}return!1}function r(e){d.forEach(function(e){e.removeAttribute("dragover","")}),v.genre.removeAttribute("dragover",""),this.removeAttribute("style"),setTimeout(function(){u.element.removeAttribute("dragging")},100)}function a(e){return e?"string"===jSh.type(e)?d[e.toLowerCase()+"genre"]:e.states&&e.states.genreToggled?e.element:e.component&&e.component.states.genreToggled?e:null:null}function l(e){return e.replace(/(\\|\[|\]|\||\{|\}|\(|\)|\^|\$|\:|\.|\?|\+|\*|\-|\!|\=)/g,"\\$1")}function c(e){var t=p.element.getChild(-1),n=jSh.toArr(t.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});x=n.map(function(e){return e.passedSearch=!1,e.style.display="none",t.removeChild(e),e}),x.forEach(function(e){x[e.string]=e}),S=[],w=[];var i=new RegExp("^"+l(e),"i"),s=new RegExp(l(e),"ig");return n.forEach(function(t){return""===e.trim()?t.removeAttribute("style"):i.test(t.string)?(t.passedSearch=!0,S.push(t.string)):s.test(t.string)?(t.passedSearch=!0,w.push(t.string)):void 0}),""===e.trim()?(n.forEach(function(e){e.passedSearch||t.appendChild(e)}),p.sort()):(S.sort(function(e,t){return t>e?-1:1}),w.sort(function(e,t){return t>e?-1:1}),S.forEach(function(e){e=x[e],t.appendChild(e),e.removeAttribute("style")}),w.forEach(function(e){e=x[e],t.appendChild(e),e.removeAttribute("style")}),void n.forEach(function(e){e.passedSearch||t.appendChild(e)}))}lces.ui.tagEditor.closeSVG||(lces.ui.tagEditor.closeSVG=jSh.svg(".genreremovesvg",8,8,[jSh.path(".genreremovecolor","M1.7 0 0 1.7 2.3 4 0 6.3 1.7 8 4 5.7 6.3 8 8 6.3 5.7 4 8 1.7 6.3 0 4 2.3 1.7 0z")])),e=e||jSh.d("genres-edit",undf,[jSh.c("span",{"class":"black",attr:{"no-select":""}}),jSh.d({"class":"genre-item",attr:{"new-genre":""},child:[jSh.c("span",undf,ih("&nbsp;+ Add Genre&nbsp;")),jSh.c("span",undf,ih("&nbsp;+ Add Genre&nbsp;")),jSh.d("",undf,lces.ui.tagEditor.closeSVG.cloneNode(!0)),jSh.c("section")]}),jSh.d("genre-list",undf,[jSh.c("input",{"class":"genre-search",prop:{type:"text",placeholder:"Search Genres"}}),jSh.d("genre-dropcatcher",undf,[jSh.c("span",undf,"REMOVE GENRE"),jSh.d()]),jSh.d({"class":"genre-select",attr:{"no-select":""}})])]);var d=[],h=new lcGenreGroup(e);h.genreArray=d;var u=new lcWidget(e);h.genreEdit=u;var p=new lcWidget(u.element.getChild(-1));h.genreList=p;var f=new lcTextField(e.jSh(".genre-search")[0]);u.setState("editing",!1),u.addStateListener("editing",function(e){e?p.visible=!0:p.visible=!1}),h.hardLinkStates("value","string"),onTransitionEnd(p.element,function(e){"opacity"==e.propertyName&&0==getComputedStyle(this).opacity&&(this.style.display="none")}),p.addStateListener("visible",function(e){e?(p.style.display="block",setTimeout(function(){p.style.opacity=1},0)):p.style.opacity=0});var m=null,g=u.element.getChild(0),v=u.element.getChild(1).getChild(-1);v.genre=v.parentNode;var b=p.element.getChild(1);b.genre=b,[b,v].forEach(function(e){e.addEventListener("dragenter",i,!1),e.addEventListener("dragover",n,!1),e.addEventListener("dragleave",s,!1),e.addEventListener("dragdrop",o,!1),e.addEventListener("drop",o,!1)});var y=(AUCE.data.genres,lces.ui.tagEditor.closeSVG);h.addGenre=function(e,a){var l=new lcWidget(jSh.d("genre-item",undf,[jSh.c("span",undf,e),jSh.d(undf,undf,y.cloneNode(!0)),jSh.c("aside",undf,","),jSh.c("section")],undf,{draggable:!0})),c=((a!==undf?a:e)+"").toLowerCase();d.push(l.element),d[c+"genre"]=l.element,l.string=e,l.value=c,l.element.string=l.string,l.element.value=c,l.setState("genreToggled",!1),l.parent=p.element.getChild(-1),l.addEventListener("dragstart",t,!1),l.addEventListener("dragend",r,!1),l.element.addEventListener("click",function(e){var t=e.target||e.srcElement;t===l.element.getChild(1)||jSh.isDescendant(t,l.element.getChild(1))?(p.element.getChild(-1).appendChild(this),this.component.genreToggled=!1,p.sort()):l.genreToggled||(u.element.getChild(0).appendChild(this),l.genreToggled=!0),lces.ui.mobile||f.element.focus()});var h=l.element.getChild(-1);h.genre=l.element,h.addEventListener("dragenter",i,!1),h.addEventListener("dragover",n,!1),h.addEventListener("dragleave",s,!1),h.addEventListener("dragdrop",o,!1),h.addEventListener("drop",o,!1),l.genreToggled=!1},h.removeGenre=function(e){var t=a(e);return t?(d.splice(d.indexOf(t),1),d[t.string.toLowerCase()+"genre"]=undf,void t.component.parent.removeChild(t)):!1},p.sort=function(){var e=[],t=this.element.getChild(-1);jSh.toArr(t.childNodes).forEach(function(n){n.nodeType===Node.ELEMENT_NODE&&(e[n.component.string]=n,e.push(n.component.string),t.removeChild(n))}),e.sort(function(e,t){return t>e?-1:1}),e.forEach(function(n){t.appendChild(e[n])})},p.sort();var S=[],w=[],x=[];f.classList.remove("lces"),f.addEventListener("keyup",function(e){var t=S[0]||w[0];""!==this.value.trim()&&13===e.keyCode&&t?(g.appendChild(x[t]),x[t].component.genreToggled=!0,this.value="",c(this.value)):c(this.value)});var C=v.parentNode.getChild(0),j=C.innerHTML;C.innerHTML="",onTransitionEnd(v.parentNode,function(e){"opacity"===e.propertyName&&0==getComputedStyle(this).opacity&&(C.innerHTML="")}),u.addStateListener("noGenres",function(e){e?(u.element.setAttribute("no-genres",""),g.innerHTML='<div class="genre-item dummy" ><span><i>(No Genres)</i></span></div>&nbsp;&nbsp;&nbsp;',0==getComputedStyle(v.parentNode).opacity&&g.getChild(0).removeAttribute("style")):u.element.removeAttribute("no-genres")}),u.addStateListener("editing",function(e){if(e)u.noGenres&&(g.innerHTML=""),u.noGenres=!1,E.element.removeAttribute("visible"),C.innerHTML=j,p.style.display="block",setTimeout(function(){u.classList.add("editing")},0),lces.ui.mobile||f.element.focus();else if(u.classList.remove("editing"),f.element.blur(),g.getChild(0)){var t=h.string===h.states.string.stateStatus;u.noGenres=!1,h.string=h.string,h._onchange(t)}else{var t=h.string===h.states.string.stateStatus;u.noGenres=!0,h.string="",h._onchange(t)}}),f.element.component=u,lces.focus.addMember(u),u.addStateListener("focused",function(e){u.editing=e}),onTransitionEnd(p.element,function(e){"opacity"==e.propertyName&&0==getComputedStyle(this).opacity&&(this.style.display="none")});var E=jSh(".editpropertysvg")[0]?new lcWidget(jSh.d("editpropertyicon",undf,jSh(".editpropertysvg")[0].cloneNode(!0))):new lcWidget;return u.element.insertBefore(E.element,p.element),E.style={position:"relative",left:"-5px"},u.addEventListener("mouseover",function(e){u.editing||E.element.setAttribute("visible","")}),u.addEventListener("mouseout",function(e){E.element.removeAttribute("visible")}),g.getChild(0)||(u.noGenres=!0),h}},lces._WidgetInit=function(){window.ih=function(e){return{s:e,t:1}},window.prefixEvent=function(e,t,n){"array"!=jSh.type(e)&&(e=[e]);for(var i=["o","webkit",""],s=0;s<e.length;s++)for(var o=0;o<i.length;o++)t.addEventListener(i[o]+e[s],n)},window.onTransitionEnd=function(e,t){e instanceof Node||(e=e.element),prefixEvent(["TransitionEnd","transitionend"],e,t)},window.lcFocus=function(){function e(e){var i=e.target||e.srcElement,s=i;if(s)for(;s!==n.element;){if(!s){s=n.element;break}if(s.component&&s.component.isLCESComponent&&void 0!==s.component.focused){s.component.focused=!0,t.focusedComponent=s.component;break}s=s.parentNode}else s=n.element;s===n.element&&(n.focused=!0,t.focusedComponent=n)}var t=this;this.type="LCES Focus Manager",this.recurring=!1,this.setState("focused",!1),this.setExclusiveState("focused",!0,1),this._addMember=this.addMember,this.addMember=function(e){e.setState("focused",!1),this._addMember(e),e.states.focused.flippedStateCall=!0},this.focusedComponent=null;var n=new lcWidget(document.body);n.setState("focused",!1),this.addMember(n),this.setState("enabled",!1),this.addStateListener("enabled",function(t){t?window.addEventListener("click",e):window.removeEventListener("click",e)})},jSh.inherit(lcFocus,lcGroup),window.LCESLoopLabels=function(){var e=jSh("label"),t=jSh.toArr(e).filter(function(e){return!!e.htmlFor});return t.forEach(function(e,t,n){n[e.htmlFor]=e}),t},window.lcWidget=function(e){function t(e){var t=jSh.toArr(e.attributes);t.forEach(function(t){s.dynText.compile(t.value+"",function(n){e.setAttribute(t.name,n)})})}function n(e,i){e.forEach(function(e){if(e.nodeType===Node.ELEMENT_NODE)t(e),n(jSh.toArr(e.childNodes),e);else if(e.nodeType===Node.TEXT_NODE){if(""===e.nodeValue.trim())return;var o=1===i.childNodes.length?i:jSh.c("span");o.innerHTML=jSh.filterHTML(e.nodeValue),s.dynText.compile(e.nodeValue+"",function(e){o.innerHTML=jSh.filterHTML(e)}),o!==i&&(e.parentNode.insertBefore(o,e),e.parentNode.removeChild(e))}})}var i=lcComponent.call(this);i||(this.type="LCES Widget");var s=this;this.jSh=jSh,this._determineType=this._determineType,this.element||(this.element=e?e:jSh.d()),this.element.component=this,this.addEventListener=this.element.addEventListener.bind(this.element),this.setState("style",{}),this.addStateListener("style",function(e){for(style in e)e.hasOwnProperty(style)&&(s.element.style[style]=e[style])}),this.states.style.get=function(){return s.element.style},this.setState("id",undf),this.addStateListener("id",function(e){s.element.id=e}),this.states.id.get=function(){return s.element.id},this.setState("text",""),this.addStateListener("text",function(e){"input"!==s.element.tagName.toLowerCase()?s.element.textContent=e:s.element.value=e}),this.states.text.get=function(){return s.element.value||s.element.textContent},this.setState("html",""),this.addStateListener("html",function(e){s.element.innerHTML!==undf&&(s.element.innerHTML=e)}),this.states.html.get=function(){return s.element.innerHTML},this.setState("parent",null),this.addStateListener("parent",function(e){e?(e.isLCESComponent&&(e=e.element),e.appendChild(s.element)):s.parent&&s.parent.removeChild(s.element)}),this.states.parent.get=function(){return s.element.parentNode||this.stateStatus},this.setState("children",jSh.toArr(this.element.childNodes)),this.addStateListener("children",function(e){return"array"===jSh.type(e)?(e.forEach(function(e){s.appendChild(e)}),!0):void s.appendChild(e)}),this.states.children.get=function(){return jSh.toArr(s.element.childNodes)},this.appendChild=function(e){jSh.hasMultipleArgs(arguments,this)||(e.isLCESComponent&&(e=e.element),this.element.appendChild(e))},this.append=this.appendChild,this.removeChild=function(e){if(!jSh.hasMultipleArgs(arguments,this)){var t=this._determineType(e);this.element.removeChild(t)}},this.remove=this.removeChild,this.insertBefore=function(e,t){var n=this._determineType(e),i=this._determineType(t);this.element.insertBefore(n,i)},this.setAttr=function(e,t){this.element.setAttribute(e,t===undf?"null":t)},this.getAttr=function(e){return this.element.getAttribute(e)},this.removeAttr=function(e){jSh.hasMultipleArgs(arguments,this)||this.element.removeAttribute(e)};var o={add:function(e){s.element.classList.add(e)},remove:function(e){s.element.classList.remove(e)},contains:function(e){s.element.classList.contains(e)},removeAll:function(e){s.classList.forEach(function(t){return e===undf?s.classList.remove(t):-1!=t.indexOf(e)?s.classList.remove(t):!1})},toggle:function(e){s.element.classList.toggle(e)}};if(Object.defineProperty(this,"classList",{configurable:!0,get:function(){var e=jSh.toArr(s.element.classList);return e.add=o.add,e.remove=o.remove,e.contains=o.contains,e.removeAll=o.removeAll,e.toggle=o.toggle,e}}),this.wrap=function(e){if(e){var t=jSh.toArr(arguments),n=this._determineType(t[0]);n.parentNode&&n.parentNode.insertBefore(this.element,n),t.forEach(function(e){s._determineType(e);s.appendChild(e)})}},e){var r=null!==this.getAttr("lces-dyntext");r&&(lcDynamicText.call(this),this.dynText.allowTags=!1,this.dynText.element=null,t(this.element),n(this.children,this.element))}},jSh.inherit(lcWidget,lcComponent),jSh.extendObj(lcWidget.prototype,{_determineType:function(e){return e=e?e.isLCESComponent&&e.element?e.element:e instanceof Node?e:jSh.t(e):jSh.t(e)}}),lces.initTagExamine=function(e){var t="";null!==e.getAttribute("lces-widget")?t=e.getAttribute("lces-widget"):"lces-widget"===e.tagName.toLowerCase&&doSomething()},lces.initTagLoad=function(){var e=jSh("[lces-widget]"),t=jSh("lces-widget");e=e.concat(t);for(var n=0,i=e.length;i>n;n++){var s=e[n],o="";if("lces-widget"!==s.tagName.toLowerCase())var r=s.getAttribute("lces-widget"),a=s.getAttribute("lces-name"),l=s.getAttribute("lces-class"),c=s.getAttribute("lces-group");else var l,r=s.getAttribute("type"),a=s.getAttribute("name"),c=s.getAttribute("lces-group");var d=s.tagName.toLowerCase();if(r)o=lces.types[r]?r:"widget";else if("input"===d||"textarea"===d){var h=s.type;"textarea"===d?o="textarea":"text"===h||"password"===h?o="textfield":"checkbox"===h?o="checkbox":"file"===h&&(o="fileinput")}else o="select"===d?"dropdown":"widget";var u=new lces.types[o](jSh(s));if(a&&(u.LCESName=a),"string"===jSh.type(l)&&l.trim()){var p=l.trim().split(/\s+/g);p.forEach(function(e){u.container?u.container.classList.add(e):u.classList.add(e)})}if("string"===jSh.type(c)&&c.trim()){var f=lces(c);f?f instanceof lcGroup||(f=null):(f=new lcGroup,f.LCESName=c),f&&f.addMember(u)}}},lces.focus=new lcGroup,jSh.extendObj(lces.focus,{init:function(){lcFocus.call(lces.focus),lces.focus.enabled=!0}}),lces.addInit(lces.initTagLoad),lces.addInit(lces.focus.init),lces.ui=new lcComponent,jSh.extendObj(lces.types,{widget:lcWidget})},lces.rc[3]=function(){function e(){window.addEventListener("wheel",function e(){t.ui.scrollBarsEnabled=!0,window.removeEventListener("wheel",e)})}var t=window.lces,n=window.jSh;
t._WidgetInit(),window.lcDraggable=function(e,t){var n=this;this._drag={},this.onDrag=function(e){return e.preventDefault(),n.centered?!1:(n._drag.mouseX=e.clientX,n._drag.mouseY=e.clientY,n._drag.winX=t.offsetLeft,n._drag.winY=t.offsetTop,window.addEventListener("mousemove",n.onDragging),void window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",n.onDragging),window.removeEventListener("mouseup",arguments.callee)}))},this.onDragging=function(e){e.preventDefault();var i=n._drag.winX+(e.clientX-n._drag.mouseX);i>innerWidth-t.offsetWidth-n.borderOffset?i=innerWidth-t.offsetWidth-n.borderOffset:i<n.borderOffset&&(i=n.borderOffset);var s=n._drag.winY+(e.clientY-n._drag.mouseY);s<n.borderOffset?s=n.borderOffset:innerHeight>t.offsetHeight+4*n.borderOffset&&s>innerHeight-t.offsetHeight-n.borderOffset&&(s=innerHeight-t.offsetHeight-n.borderOffset),t.style.left=i+"px",t.style.top=s+"px"},this.setState("draggable",!1),this.addStateListener("draggable",function(t){t?e.addEventListener("mousedown",n.onDrag):e.removeEventListener("mousedown",n.onDrag)}),this.borderOffset=20},window.lcControl=function(e){lcWidget.call(this,e||n.d("lcescontrol"));var i=this;this.element.component=this,this.classList.add("lcescontrol"),this.inputs=n.toArr(this.element.getElementsByTagName("input")).concat(n.toArr(this.element.getElementsByTagName("button"))),this.onMousedown=function(e){e.preventDefault()},this.onFocus=function(e){e.preventDefault(),this.blur&&this.blur()},this.clickCatcher=n.d("lcescontrolclick"),this.clickCatcher.addEventListener("mousedown",this.onMousedown),this.appendChild(this.clickCatcher),this._appendChild=this.appendChild,this.appendChild=function(){this._appendChild.apply(this,n.toArr(arguments)),this._appendChild(this.clickCatcher)},this.setState("disabled",!1),this.addStateListener("disabled",function(e){e?(i.element.setAttribute("disabled",""),i.element.addEventListener("mousedown",i.onMousedown),i.clickCatcher.style.display="block",i.inputs.forEach(function(e){e.addEventListener("focus",i.onFocus)})):(i.element.removeAttribute("disabled"),i.element.removeEventListener("mousedown",i.onMousedown),i.clickCatcher.style.display="none",i.inputs.forEach(function(e){e.removeEventListener("focus",i.onFocus)}))}),this.setState("focused",!1),t.focus.addMember(this);var s=this.element.getAttribute("disabled");null!==s&&(this.disabled=!0)},n.inherit(lcControl,lcWidget),n.extendObj(t.types,{control:lcControl}),t.ui.scrollBarScroll=35,t.ui.scrollBars=[],t.ui.sbScroll=function(e){this.lcesScrollbar.scroll(e.deltaY,e)};var i=!1;t.ui.setState("scrollBarsEnabled",!1),t.ui.addStateListener("scrollBarsEnabled",function(e){if(e&&!i){i=!0,n("body")[0].classList.add("lces-scrollbars-visible");for(var s=t.ui.scrollBars,o=t.ui.sbScroll,r=0,a=s.length;a>r;r++){var l=s[r];l.parent.addEventListener("wheel",o),l.scrollContent.style.overflow="hidden"}}}),window.lcScrollBars=function(e,i){function s(){c=u*(d/h),l.scrollContent.scrollTop=c}function o(e){d=Math.min(Math.max(o.scroll+(e.clientY-o.y),0),h),a.style.top=d+"px",s()}if(!this.element&&!e)return!1;if(!(this instanceof lcComponent))return new lcScrollBars(e);var r=n.d(".lces-scrollbar-trough"),a=n.d(".lces-scrollbar");r.appendChild(a);var l=new lcComponent;this.lcesScrollbar=l,l.parent=e||this.element,l.scrollContent=this.scrollbarContent||i||e,l.scrollDist=t.ui.scrollBarScroll,l.marginTop=0,l.marginBottom=0,l.marginSide=0,l.side="left"!==this.scrollbarSide?"lc-sbright":"lc-sbleft";var c=0,d=0,h=0,u=0;t.ui.scrollBars.push(l),l.parent.appendChild(r),l.parent.lcesScrollbar=l,l.scroll=function(e,n){e=e>0?1:-1;var i=d;d=Math.min(Math.max(d+t.ui.scrollBarScroll*e,0),h),a.style.top=d+"px",i!==d&&(s(),n.preventDefault())},r.addEventListener("mousedown",function(e){var t=e.target||e.srcElement;if(e.preventDefault(),t===a)o.scroll=d,o.y=e.clientY,r.classList.add("active"),window.addEventListener("mousemove",o),window.addEventListener("mouseup",function l(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",l),r.classList.remove("active")});else{var n=a.getBoundingClientRect(),i=n.top+(e.clientY-n.top)-a.offsetHeight/2-r.getBoundingClientRect().top;d=Math.min(Math.max(i,0),h),a.style.top=d+"px",s()}}),l.update=function(){var e=l.scrollContent,t=getComputedStyle(e),n=e.offsetHeight;n=n-parseInt(t.borderTopWidth)-parseInt(t.borderBottomWidth);var i=getComputedStyle(l.parent),s=l.parent.offsetHeight;s=s-parseInt(i.borderTopWidth)-parseInt(i.borderBottomWidth);var o=Math.max(30,n/e.scrollHeight*(s-(l.marginTop+l.marginBottom)));h=s-o-(l.marginTop+l.marginBottom),u=Math.max(0,e.scrollHeight-e.offsetHeight),r.classList.remove("left"===l.side||"lc-sbleft"===l.side?"lc-sbright":"lc-sbleft"),r.classList.add(l.side),a.style.margin="0px "+l.marginSide+"px",a.style.height=o+"px",r.style.top=l.marginTop+"px",r.style.bottom=l.marginBottom+"px",u?r.style.display="block":r.style.display="none",a.style.top="0px",d=0,e.scrollTop=0},t.ui.scrollBarsEnabled&&(l.parent.addEventListener("wheel",t.ui.sbScroll),l.scrollContent.style.overflow="hidden"),l.update()},n.inherit(lcScrollBars,lcComponent),t.addInit(e),t.dynText={allowTags:!0,forgiving:!0},t.dynText.tags={"default":{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"font-weight: bold;"}}))},update:function(){}},text:{node:function(e,t){return new lcWidget(n.c("span",{}))}},url:{node:function(e,t){var i=new lcWidget(n.c("a",{properties:{href:e}}));return i.addStateListener("href",function(e){this.component.element.href="url:"===e.substr(0,4).toLowerCase()?e.substr(4):e}),i},update:function(e){this.component.href=e}},button:{node:function(e,t){return new lcWidget(n.c("button",{}))},update:function(){}},color:{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"color: "+e+";"}}))},update:function(e){"lces-color"!==e?(this.component.style={color:e},this.component.classList.remove("lces-user-text-color")):(this.component.setAttr("style",""),this.component.classList.add("lces-user-text-color"))}},b:{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"font-weight: bold;"}}))},update:function(){}},i:{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"font-style: italic;"}}))},update:function(){}},u:{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"text-decoration: underline;"}}))},update:function(){}},center:{node:function(e,t){return new lcWidget(n.c("span",{attributes:{style:"display: block;text-align: center;"}}))},update:function(){}}},t.dynText.onParamChange=function(e,t){var i="";return t.forEach(function(t){if("text"===t.type)i+=t.content;else{var s=e[t.name];t.handler&&e.dynText.handlers[t.handler]&&"function"===n.type(e.dynText.handlers[t.handler])&&(s=e.dynText.handlers[t.handler](s)),i+=s}}),i},t.dynText.onContentChange=function(e,t){var i=e[t.mainName];return t.handler&&e.dynText.handlers[t.handler]&&"function"===n.type(e.dynText.handlers[t.handler])&&(i=e.dynText.handlers[t.handler](i)),i},t.dynText.onDynamicChange=function(e,t){if("function"!==n.type(t.callback))return!1;var i,s="",o=1===t.parent.children.length;t.parent.children.forEach(function(t){var r=t.children[0];if("text"===r.type)s+=r.content;else if(r.context){var a=r.context,l=a[r.name];l=l===undf?"":l,r.handler&&"function"===n.type(e.dynText.handlers[r.handler])&&(l=e.dynText.handlers[r.handler](l)),s+=l,o&&(i=l)}else s+=""}),t.callback(o?i:s)},t.dynText.lexerTypes={text:function(e){return/[a-zA-Z\d_]/.test(e)},number:function(e){return/[\d]/.test(e)},space:function(e){return/[\t ]/.test(e)},invalidPropChar:function(e){return!(this.text(e)||this.number(e)||"#"===e||"."===e)}},t.dynText.pushToken=function(){this.tokens.push({type:this.tokenType,content:this.tempToken})},t.dynText.lexer=function(e,t,n,i){if(!e)return this.tempToken&&this.pushToken(),!1;if(null!==this.tempToken){if("property"===this.tokenType){if("}"===e)return this.tempToken&&this.pushToken(),this.tokenType="text",this.tempToken=null,!0;if(i.invalidPropChar(e)){if(this.forgiving)return this.tokenType="text",!0;var s=t>10?t-5:0,o=t+5,r=t-s,n=n.substr(s,o).replace("\n"," ");return this.tokens='Invalid property character "'+e+'" at character index '+t+" \n\n",this.tokens+='"'+n+'" \n',this.tokens+=" "+new Array(0>r?0:r).join(" ")+" ^",!1}return this.tempToken+=e,!0}return"\\"===e?(this.charIndex+=1,this.tempToken+=n[t+1],!0):"{"===e||("["===e||"]"===e)&&this.allowTags?(this.tempToken&&this.pushToken(),this.tempToken=null,this.charIndex-=1,!0):(this.tempToken+=e,!0)}return"{"===e?(this.tokenType="property",this.tempToken="",!0):"["===e||"]"===e?(this.tokenType="["===e?"open":"close",this.tempToken=null,"open"===this.tokenType&&"/"===n[t+1]&&(this.charIndex+=1,this.tokenType="closed"),this.pushToken(),!0):(this.tokenType="text",this.tempToken=e,!0)},t.dynText.processTokens=function(e,t,n){if(!e){if(this.tempEntity!==this.entities){if(!this.forgiving)return this.entities="Error: Unexpected end of input",!1;this.tempEntity=this.entities}return!1}if("tag"===this.entityContext){if("open"===e.type)return this.forgiving?(this.tempEntity.params.push({type:this.tokenType,content:this.tempToken}),!0):(this.entities='Syntax Error: Unexpected token type "open"',!1);if("text"===e.type)return this.tempEntity.params.push(e),!0;if("property"===e.type){var i=e.content.split("#");return 2!==i.length?(this.entities='Syntax Error: Invalid property "'+i[0]+'"',!1):(this.tempEntity.params.push({type:"property",name:i[1],handler:i[0]}),this.tempEntity.noParamRef=!1,!0)}if("close"===e.type)return 0===this.tempEntity.params.length?(this.entities="Syntax Error: Empty opening tag",!1):(this.entityContext="content",!0)}else{if("closed"===e.type)return n[t+1]&&n[t+2]&&"text"===n[t+1].type&&"close"===n[t+2].type?this.tempEntity!==this.entities||this.forgiving?(this.tempEntity.type=n[t+1].content,this.tokenIndex+=2,this.tempEntity=this.tempEntity.parent,!0):(this.entities="Syntax Error: Misplaced closing tag",!1):(this.entities="Syntax Error: Invalid closing tag",!1);if("open"===e.type){var s={type:"text",params:[],children:[],noParamRef:!0,noChildRef:!0,parent:this.tempEntity};return this.tempEntity.children.push(s),this.tempEntity=s,this.entityContext="tag",!0}if("text"===e.type){var s={type:"text",params:[],children:[e],noParamRef:!0,noChildRef:!0,parent:this.tempEntity};return this.tempEntity.children.push(s),!0}if("property"===e.type){var i=e.content.split("#");if(2!==i.length)return this.entities='Syntax Error: Invalid property "'+i[0]+'"',!1;var s={type:"text",params:[],children:[{type:"property",name:i[1],handler:i[0]}],noParamRef:!0,noChildRef:!1,parent:this.tempEntity};this.tempEntity.children.push(s),this.tempEntity.noChildRef=!1;for(var o=this.tempEntity.parent;o&&o.parent;)o.parent.noChildRef=!1,o=o.parent;return!0}}},t.dynText.formatSyntax=function(){var e={type:"main",params:[],children:[],noParamRef:!0,noChildRef:!0,parent:null};for(this.entities=e,this.tempEntity=e;this.processTokens(this.tokens[this.tokenIndex],this.tokenIndex,this.tokens);)this.tokenIndex+=1;return this.entities},t.dynText.getContext=function(e){var t=e.split("."),i=this.context;if(t.pop(),0===t.length)return i;for(var s=0;s<t.length;s++){var o=i[t[s]];o&&o instanceof Object||(i[t[s]]=new lcComponent,o&&"object"===n.type(o)&&n.extendObj(i[t[s]],o,["LCESName"])),i=i[t[s]]}return i},t.dynText.createRenderedEntities=function c(e,i){var s=this.component,o=this.context;e.parent;if("text"===e.type)if(e.noChildRef)this.allowTags&&(e.element=n.d(undf,ih(e.children[0].content)).firstChild,e.parent.element.appendChild(e.element));else{var r=e.children[0],a=r.name.split(".").pop();r.mainName=a,this.allowTags&&(e.element=n.c("span"),r.element=e.element,e.element.className=r.name.replace(/\./g,"-"),e.parent.element.appendChild(e.element));var l,d=this.getContext(r.name),h=!1;(d[a]||d[a]===!1||null===d[a]||0===d[a]||""===d[a])&&(h=!0,l=d[a]),d.states[a]||d.setState(a),d.states[a].dynTextContent||(d.addStateListener(a,function(e){d.states[a].contentProps&&(d.states[a].contentProps.forEach(function(e){e.element.innerHTML=t.dynText.onContentChange(d,e)}),s.triggerEvent("dynpropchange",{property:this.name}))}),d.addStateListener(a,function(e){d.states[a].dynamicProps&&"function"===n.type(i)&&(d.states[a].dynamicProps.forEach(function(e){t.dynText.onDynamicChange(o,e)}),s.triggerEvent("dynpropchange",{property:this.name}))})),d.states[a].dynTextContent=!0,this.allowTags?(d.states[a].contentProps||(d.states[a].contentProps=[]),d.states[a].contentProps.push(r)):(n.extendObj(r,{callback:i,context:d,parent:e.parent,name:a}),d.states[a].dynamicProps||(d.states[a].dynamicProps=[]),d.states[a].dynamicProps.push(r)),d.setState(a,l,!0)}else if("text"!==e.type){var u=t.dynText.tags[e.type]?e.type:"default";if(e.element=t.dynText.tags[u].node().element,e.element.update=t.dynText.tags[u].update,e.parent.element.appendChild(e.element),e.params.length&&(e.noParamRef?e.element.update(e.params[0].content):(e.params.forEach(function(e){e.name&&(o.states[e.name]||o.setState(e.name),o.states[e.name].dynTextParam||o.addStateListener(e.name,function(e){o.dynText.paramProps.forEach(function(e){e.element.update(t.dynText.onParamChange(o,e))})}),o.states[e.name].dynTextParam=!0)}),e.params.element=e.element,this.paramProps.push(e.params))),e.children.length){var p=c.bind(this);e.children.forEach(function(e){p(e)})}}return e.element},t.dynText.renderEntities=function(e){var t=document.createDocumentFragment(),n=this;return this.entities.element=t,this.entities.children.forEach(function(t,i,s){n.createRenderedEntities(t,e)}),t},t.dynText.compile=function(e,t){if(!e||"string"!=typeof e)return!1;for(this.tokens=[],this.tempToken=null,this.tokenType="text",this.charIndex=0,this.tokenIndex=0,this.tempEntity=null,this.handlers=n.extendObj({},this.handlers),this.contentProps=[],this.paramProps=[];this.lexer(e[this.charIndex],this.charIndex,e,this.lexerTypes);)this.charIndex+=1;if("string"===n.type(this.tokens))throw Error(this.tokens);var i=this.formatSyntax();if("string"===n.type(i))throw Error(i);var s=this.renderEntities(t);if(i.noChildRef)return this.element&&this.allowTags&&(this.element.childNodes[0]&&this.element.removeChild(n.toArr(this.element.childNodes)),this.element.appendChild(s)),!1;if(this.element){var o=this.element;o.childNodes[0]&&o.removeChild(n.toArr(o.childNodes)),o.appendChild(s)}return!0},t.dynText.handlers={trim:function(e){return(e+"").trim()}},t.dynText.dynSanitize=function(e){return e.replace(/\{|\[/g,"\\$1")},window.lcDynamicText=function(e){if(!this.dynText||e){var i=this;if(this.dynText={charIndex:0,tokenType:"text",tempToken:null,tokens:[],tokenIndex:0,tempEntity:null,entityContext:"content",entities:{},states:{},handlers:{},contentProps:[],paramProps:[],context:this,component:this,element:this.element},this.addEvent("dynpropchange"),n.extendObj(this.dynText,t.dynText),this.dynTextTrigger){var s=this.dynTextTrigger;this.addStateListener(s,function(e){i.dynText.compile(e)})}}},t.ui.setState("scrollY",scrollY),t.ui.addStateListener("scrollY",function(e){function i(e){scrollTo(scrollX,c+e*l)}function s(){t.ui.scrollY=void 0}if("object"===n.type(e)&&e.element||e instanceof Node){var o=e.element||e,r=o.getBoundingClientRect(),a=o.offsetHeight;e=r.top+scrollY-innerHeight/2+a/2}if(isNaN(e))return!1;var l=e-scrollY,c=scrollY;clearQS(t.ui._scrollProcess),t.ui._scrollProcess=new qsFadein(i,0,1,.35,s,undf,!0,.002)}),t.ui.states.scrollY.get=function(){return scrollY},t.ui.addEvent("resize");var s=null,o=0,r=0;t.ui.assertResized=function(e,n){s?clearTimeout(s):n||(o=innerWidth,r=innerHeight),s=setTimeout(function(){t.ui.triggerEvent("resize",{oldWidth:o,oldHeight:r,width:innerWidth,height:innerHeight}),s=null},n?0:500)},window.addEventListener("resize",t.ui.assertResized),t.ui.setState("mobile",null),t.ui.mobileWidth=560,t.ui.assertMobile=function(){innerWidth<=t.ui.mobileWidth?t.ui.mobile=!0:t.ui.mobile=!1},window.addEventListener("resize",t.ui.assertMobile);var a=/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone/i;t.ui.mobileDevice=800===Math.max(screen.width||screen.availWidth,screen.height||screen.availHeight,800)&&a.test(navigator.userAgent),t.url=new lcComponent,t.url.setState("triggers",{}),t.url.addStateCondition("triggers",function(){function e(t){t.__=null;for(var i=Object.getOwnPropertyNames(t),s=0,o=i.length;o>s;s++)"__"!==i[s]&&"object"===n.type(t[i[s]])&&e(t[i[s]])}var t=this.stateStatus;return"object"===n.type(t)&&e(t),!0}),t.url.addStateListener("triggers",function(e){function t(e,i){e&&(i.__=e);for(var s=Object.getOwnPropertyNames(i),o=0,r=s.length;r>o;o++)"__"!==s[o]&&"object"===n.type(i[s[o]])&&t(i,i[s[o]])}"object"===n.type(e)&&t(null,e)}),t.url.setState("triggerCount",0),t.url.setState("acceptChange",!1),t.url.states.triggerCount.get=function(){return Object.getOwnPropertyNames(t.url.triggers).length},t.url._onURLChange=function(){var e=t.url.process();return e?void e.func.apply(this,e.args):("function"===n.type(t.url.triggers._default)&&t.url.triggers._default(),!1)},t.url.addStateListener("acceptChange",function(e){e?window.addEventListener("popstate",t.url._onURLChange):window.removeEventListener("popstate",t.url._onURLChange)}),t.url.process=function(){function e(e){return"function"==typeof e}var n=location.pathname.substr(1).split("/"),i=null;if(n.every(function(e,n){return t.url.triggers[e]?(i=n,!1):!0}),null===i)return!1;var s=null,o=null,r=null;return n.every(function(a,l){if(l>=i){var c=r?r[n[l]]:t.url.triggers[n[l]];if(!c)return!1;if(e(c))return s=c,o=n.slice(l+1),!1;r=c}return!0}),s?{func:s.bind(r),args:o}:!1};var l=window.history;t.url.set=function(e){l.pushState(null,null,e)}},lces.rc[4]=function(){function t(e){var t=this;lcWidget.call(this,e),this.type="LCES Placeholder Widget",this.replace=lces.template.__placeHolderReplace,this.substitute=lces.template.__placeHolderSubstitute,this.element.replace=lces.template.__placeHolderReplace.bind(this),this.element.substitute=lces.template.__placeHolderSubstitute.bind(this),this.addStateListener("phName",function(e){t.element.setAttribute("ph-name",e)})}lces.template=function n(e){if(!e)throw Error("lces.template() requires one options object as the first argument");if(!e.render)throw Error("lces.template(options) options object must contain a MockupElement as a render property");if(!(e.render instanceof jSh.MockupElement))throw Error("Element provided does not implement the jSh.MockupElement interface");return n.build(e)},lces.template.addInit=function(e){"function"==typeof e&&this.__initFuncs.push(e)},lces.template.removeInit=function(e){var t=this.__initFuncs.indexOf(e);-1!==t&&this.__initFuncs.splice(t,1)},lces.template.build=function(e){var t=function n(e,t){if(this instanceof lces.template){var i;if(e&&e instanceof lcComponent){if("string"===jSh.type(n.context)&&"object"===jSh.type(e[n.context]))if(e[n.context]instanceof lcComponent)e=e[n.context];else{var s=new lcWidget;jSh.extendObj(s,e[n.context],"LCESName"),e=s}}else i=n.context&&n instanceof lcComponent?n.context:new lcWidget,"object"===jSh.type(e)&&("object"===jSh.type(n.context)&&i!==n&&jSh.extendObj(e,n.context),jSh.extendObj(i,e,"LCESName")),e=i;lcDynamicText.call(e),e.context=e;var o=n.render.conceive(!0,e);return n.__initFuncs.forEach(function(t){t(o,e||n.context)}),i&&(o.component=i,i.element=o),o.mainComponent=i||e,t&&n.append&&n.append(t,o),o}var r={render:n.render.cloneNode(!0),__initFuncs:n.__initFuncs.slice(),context:(e?e.context:null)||n.context};if(e&&e.append&&"function"==typeof e.append&&e.length>=2&&(r.append=e.append),e&&e.init){var a=jSh.type(e.init);"array"===a?r.__initFuncs=r.__initFuncs.concat(e.init):"function"===a&&r.__initFuncs.push(e.init)}return lces.template.build(r)};return t.render=e.render,Object.defineProperty(t,"__initFuncs",{value:e.__initFuncs?e.__initFuncs.slice():[],enumerable:!1,configurable:!1,writable:!1}),t.addInit=lces.template.addInit,t.removeInit=lces.template.removeInit,t.addInit(e.init),t.context=e.context,jSh.inherit(t,lces.template),t},lces.template.isChild=function(e,t){if(t===window){var n=function i(){if(this!==window){var e=new i.templChildFunc;return e.Component=e.component,i.templChildOptions&&jSh.extendObj(e,i.templChildOptions),e.element}return i};return n.templChildFunc=e.callee,n.templChildOptions=e[0],n}return!1},jSh.MockupElementMethods={construct:function(e,n,i){var s=window.jSh,o=this,r=n?s.MockupElement(this.tagName):s.e(this.tagName.toLowerCase()),a=r.nsElm;i&&(i.dynText.allowTags=!1);var l=/^ns:[^:]+:[^]*$/i;if(Object.getOwnPropertyNames(this.attributes).forEach(function(e){var t,n,s=l.test(e),a=e;if(s&&(t=e.replace(/^ns:[^:]+:([^]*)$/i,"$1"),n=e.replace(/^ns:([^:]+):[^]*$/i,"$1"),e=n),i){var c=i.dynText.compile(o.attributes[a],function(i){s?r.setAttributeNS(t?t:null,n,i):r.setAttribute(e,i)});c||(s?r.setAttributeNS(t?t:null,n,o.attributes[a]):r.setAttribute(e,o.attributes[e]))}else s?r.setAttributeNS(t?t:null,n,o.attributes[a]):r.setAttribute(e,o.attributes[e])}),Object.getOwnPropertyNames(this.__events).forEach(function(e){for(var t,n,i=o.__events[e],s=0;s<i.length;s+=2)t=i[s],n=i[s+1],r.addEventListener(e,t,n)}),this.getAttribute("style")&&r.setAttribute("style",this.getAttribute("style")),i){if(i.dynText.element=r,s.spliceItem(s.MockupElementOnlyProps,"innerHTML","_innerHTML","textContent","_textContent"),this._textContent){var c=s.c("span",undf,this._textContent);i.dynText.compile(this._textContent,function(e){c.textContent=e});r.appendChild(c),s.pushItems(s.MockupElementOnlyProps,"textContent","_textContent")}else if(this._innerHTML){i.dynText.allowTags=!0;i.dynText.compile(this._innerHTML);s.pushItems(s.MockupElementOnlyProps,"innerHTML","_innerHTML")}i.dynText.allowTags=!1,i.dynText.element=null}for(var d=Object.getOwnPropertyNames(this).filter(function(e){return-1===s.MockupElementOnlyProps.indexOf(e)}),h=0,u=d.length;u>h;h++){var p=d[h];if(i&&"string"===s.type(o[p])){var f=i.dynText.compile(o[p]+"",function(e){r[p]=e});f||(r[p]=o[p])}else o[p]&&(r[p]=o[p])}if(this.className&&(a?r.setAttribute("class",this.className):r.className=this.className),e){var m=n?"cloneNode":"conceive";this.childNodes.forEach(function(e){r.appendChild(e[m](!0,i))})}if(!n&&"lces-placeholder"===this.tagName.toLowerCase()){var g=this.phName,v=new t(r);v.phName=g}return s(r)},conceive:function(e,t){return this.construct(e,!1,t)},cloneNode:function(e){return this.construct(e,!0)},__childCheck:function(e,t,n){if(e&&jSh.hasMultipleArgs(e,this))return!1;if(!(t instanceof jSh.MockupElement)){if("function"!==jSh.type(t)||!t.prototype)throw TypeError(n||"Element provided doesn't implement the jSh.MockupElement interface");if(t.prototype instanceof lces.template)return!0}return!0},__childDetermineType:function(e,t){return"function"==typeof e?t||!e.lcesTemplateMockupWrapper?jSh.cm("lces-template-constructor",e):e.lcesTemplateMockupWrapper:e},appendChild:function(e){return this.__childCheck(arguments,e)?(e=this.__childDetermineType(e),this.childNodes.push(e),void(e.__privParentNode=this)):undf},removeChild:function(e){if(!this.__childCheck(arguments,e))return!1;e=this.__childDetermineType(e);var t=this.childNodes.indexOf(e);-1!==t&&(this.childNodes.splice(t,1),e.__privParentNode=null)},insertBefore:function(e,t){if(!this.__childCheck(undf,e,"Element provided doesn't implement the jSh.MockupElement interface"))return!1;e=this.__childDetermineType(e),t=this.__childDetermineType(t);var n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n,0,e),e.__privParentNode=this)},traverse:function(e,t){var n=this;e.childNodes.forEach(function(e){t(e),e.childNodes[0]&&n.traverse(e,t)})},getElementsByTagName:function(e){var t=[];return this.traverse(this,function(n){n.tagName.toLowerCase()===e.toLowerCase()&&t.push(n)}),t},getElementsByClassName:function(e){var t=[];return this.traverse(this,function(n){n.classList.contains(e)&&t.push(n)}),t},getElementById:function(e){var t=null;return this.traverse(this,function(n){n.id===e&&(t=n)}),t},addEventListener:function(e,t,n){var i=this.__events[e];i||(i=[],this.__events[e]=i),i.push(t,n)},removeEventListener:function(t,n){var i=this.__events[event];if(!i)return null;var s=i.indexOf(e);-1!==s&&i.splice(s,1)},__setStyleFromAttr:function(e){this.style={};var t=this.style,n=e.split(/\s*;\s*/g);n.forEach(function(e){if(e.trim("")){var n=e.split(/\s*:\s*/),i=n[0].split("-");i=i.map(function(e,t){if(0!==t)var n=e[0].toUpperCase();else var n=e[0].toLowerCase();return n+e.substr(1)}).join(""),t[i]=n[1]}})},__JSProp2CSS:function(e){var t=/[A-Z]/;return e=e.split(""),e.map(function(e){return t.test(e)?"-"+e.toLowerCase():e}).join("")},__getStyleFromAttr:function(){var e=this,t=this.style;return Object.getOwnPropertyNames(t).map(function(n){return e.__JSProp2CSS(n)+": "+t[n]+";"}).join("")},setAttribute:function(e,t){e+="",t+="",this.attributes[e]=t,"style"===e&&this.__setStyleFromAttr(t)},getAttribute:function(e){return"style"!==e?this.attributes[e]:this.__getStyleFromAttr()},removeAttribute:function(e){e+="",this.attributes[e]=undf},setAttributeNS:function(e,t,n){this.setAttribute("ns:"+t+":"+(e?e:""),n)}},jSh.MockupElementClassList={manipulateClass:function(e,t){if(t||e!==undf){if(jSh.type(e)&&e.trim()){var n=e.split(/\s+/),i=this.classes;n.forEach(function(e){var n=i.indexOf(e);(t&&-1===n||!t&&-1!==n)&&(t?i.push(e):i.splice(n,1))})}}else this.classes=[]},add:function(e){this.manipulateClass(e,!0)},remove:function(e){this.manipulateClass(e,!1)},contains:function(e){return-1!==this.classes.indexOf(e)},toggle:function(e){this.contains(e)?this.remove(e):this.add(e)}},jSh.MockupElementOnlyProps=[],jSh.MockupElementOnlyProps=jSh.MockupElementOnlyProps.concat(Object.getOwnPropertyNames(jSh.MockupElementMethods)),jSh.MockupElementOnlyProps=jSh.MockupElementOnlyProps.concat(["classList","style","childNodes","tagName","__events","attributes","jSh","parentNode","previousSibling","nextSibling","getChild","on","__privParentNode","__apch","__rmch","nodeType","className"]),jSh.MockupElementsBarren=["img","input","link","meta"],jSh.MockupElement=function i(e){if(!(this instanceof i))return new i(e);var t=this;e="string"===jSh.type(e)?e:"div",this.nodeType=Node.ELEMENT_NODE,Object.defineProperty(this,"tagName",{value:e.toUpperCase(),enumerable:!0,configurable:!1,writable:!1});var n={};Object.defineProperty(this,"style",{enumerable:!0,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"__privParentNode",{value:null,enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(this,"parentNode",{enumerable:!0,configurable:!1,get:function(){return t.__privParentNode}}),Object.defineProperty(this,"previousSibling",{enumerable:!0,configurable:!1,get:function(){if(!t.parentNode)return null;var e=t.parentNode.childNodes.indexOf(t);return 0===e?null:t.parentNode.childNodes[e-1]}}),Object.defineProperty(this,"nextSibling",{enumerable:!0,configurable:!1,get:function(){if(!t.parentNode)return null;var e=t.parentNode.childNodes.indexOf(t),n=t.parentNode.childNodes.length;return e===n-1?null:t.parentNode.childNodes[e+1]}}),Object.defineProperty(this,"childNodes",{value:[],enumerable:!0,configurable:!1,writable:!1}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!1,get:function(){return t.childNodes.map(function(e){return e.tagName&&"lces-template-constructor"===e.tagName.toLowerCase()?e.__lcesTemplateConstructor:e})}}),Object.defineProperty(this,"__events",{value:{},enumerable:!0,configurable:!1,writable:!1}),Object.defineProperty(this,"attributes",{value:{},enumerable:!0,configurable:!1,writable:!1}),jSh.extendObj(this,jSh.MockupElementMethods),Object.defineProperty(this,"classList",{value:jSh.extendObj({classes:[],element:this},jSh.MockupElementClassList),enumerable:!0,configurable:!1,writable:!1}),Object.defineProperty(this.classList,"length",{enumerable:!0,configurable:!1,get:function(){return t.classList.length}}),Object.defineProperty(this,"className",{enumerable:!0,configurable:!1,get:function(){return t.classList.classes.join(" ")},set:function(e){jSh.type(e)&&e.trim()?(t.classList.remove(),t.classList.add(e)):t.classList.remove()}})},jSh.MockupElement.prototype.constructor=jSh.MockupElement,jSh.__MockupTextConceive=function(e,t){if(t){t.dynText.allowTags=!0,t.dynText.element=document.createDocumentFragment();var n=t.dynText.compile(this.nodeValue);return n?t.dynText.element:jSh.t(this.nodeValue)}return jSh.t(this.nodeValue)},jSh.MockupText=function(e){return this instanceof jSh.MockupText?(this.nodeValue=e,this.nodeType=Node.TEXT_NODE,void(this.conceive=jSh.__MockupTextConceive)):new jSh.MockupText(e)},jSh.inherit(jSh.MockupText,jSh.MockupElement),jSh.dm=function(e,t,n,i,s,o){return jSh.d.call({lcesElement:jSh.MockupElement("div")},e,t,n,i,s,o)},jSh.cm=function(e,t,n,i,s,o,r){return"lces-template-constructor"!==e?jSh.d.call({lcesElement:jSh.MockupElement(e)},t,n,i,s,o,r):jSh.d.call({lcesElement:jSh.MockupElement(e)},{prop:{__lcesTemplateConstructor:t,conceive:function(e,t){return new this.__lcesTemplateConstructor(t)}}})},jSh.svgm=function(e,t,n,i){return jSh.cm("ns:svg:http://www.w3.org/2000/svg",e,undf,i,{version:"1.1",width:t,height:n})},jSh.pathm=function(e,t,n){return jSh.cm("ns:path:http://www.w3.org/2000/svg",e,undf,undf,{"ns:d:":t,"ns:style:":n||""})},jSh.tm=function(e){return jSh.MockupText(e)},lces.template.__placeHolderReplace=function(e){var t=this,n=this.parent,e=this._determineType(e);if(!n)return null;if(n.insertBefore(e,this.element),arguments.length>1){var i=jSh.toArr(arguments).slice(1);i.forEach(function(e){n.insertBefore(e,t.element)})}n.removeChild(this.element),this.substituting=null},lces.template.__placeHolderSubstitute=function(e){var e=this._determineType(e);return e.parentNode?(e.parentNode.insertBefore(this.element,e),e.parentNode.removeChild(e),void(this.substituting=e)):null},jSh.inherit(t,lcWidget),jSh.ph=function(e){var n=new t(jSh.c("lces-placeholder"));return n.phName=e,n.element},jSh.phm=function(e){var n=new t(jSh.cm("lces-placeholder"));return n.phName=e,n.element.phName=e,n.element},lces.template.initLoadPH=function(){var e=jSh("lces-placeholder");e.forEach(function(e){var n=e.getAttribute("ph-name"),i=e.getAttribute("ph-visible"),s=new t(e);n&&(e.phName=n,s.phName=n),null!==i&&(e.style.display="block")})},lces.template.initLoadTemplates=function(){var e=jSh("lces-template");e.forEach(function(e){var t=lces.template.list[e.getAttribute("template")],n=e.getAttribute("context");if(t&&e.getAttribute("context")){var i=(n?lces(n):null)||new lcComponent;n&&(i.LCESName=n);var s=e.id,o=e.className.split(" "),r=new t(i,jSh.toArr(e.childNodes));o.forEach(function(e){e&&r.classList.add(e)}),s&&(r.id=s),e.id="",e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e)}})},lces.addInit(lces.template.initLoadTemplates),lces.addInit(lces.template.initLoadPH),lces.template.list={}};
